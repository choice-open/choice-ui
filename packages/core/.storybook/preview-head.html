<link
  rel="preconnect"
  href="https://rsms.me/"
/>
<link
  rel="stylesheet"
  href="https://rsms.me/inter/inter.css"
/>
<link
  rel="icon"
  type="image/png"
  href="https://assets.choiceform.app/favicons/dev/favicon-96x96.png"
  sizes="96x96"
/>
<link
  rel="icon"
  type="image/svg+xml"
  href="https://assets.choiceform.app/favicons/dev/favicon.svg"
/>
<link
  rel="shortcut icon"
  href="https://assets.choiceform.app/favicons/dev/favicon.ico"
/>
<link
  rel="apple-touch-icon"
  sizes="180x180"
  href="https://assets.choiceform.app/favicons/dev/apple-touch-icon.png"
/>
<meta
  name="apple-mobile-web-app-title"
  content="MyWebSite"
/>
<link
  rel="manifest"
  href="https://assets.choiceform.app/favicons/dev/site.webmanifest"
/>

<title>ChoiceForm Design System</title>

<!-- 修复 Storybook 9 静态部署路径问题 -->
<script>
  // 在页面加载后修复路径
  document.addEventListener('DOMContentLoaded', function() {
    // 只在 iframe 中执行
    if (window.location.pathname.includes('/iframe') || window.parent !== window) {
      // 修复动态加载的脚本路径
      const observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
          mutation.addedNodes.forEach(function(node) {
            if (node.tagName === 'SCRIPT' && node.src && node.src.includes('/sb-')) {
              node.src = node.src.replace(/\/sb-/g, './sb-');
            }
            if (node.tagName === 'LINK' && node.href && node.href.includes('/sb-')) {
              node.href = node.href.replace(/\/sb-/g, './sb-');
            }
          });
        });
      });
      
      observer.observe(document.head, { childList: true, subtree: true });
      observer.observe(document.body, { childList: true, subtree: true });
    }
  });
</script>
