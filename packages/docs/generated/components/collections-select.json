{
  "slug": "collections/select",
  "title": "Select",
  "package": {
    "name": "@choice-ui/select",
    "version": "0.0.7",
    "description": "Select component for Choiceform Design System",
    "dependencies": {
      "@choice-ui/shared": "workspace:*",
      "@choice-ui/menus": "workspace:*",
      "@choice-ui/slot": "workspace:*",
      "@floating-ui/react": "0.27.15",
      "usehooks-ts": "^3.1.0"
    },
    "peerDependencies": {
      "react": ">=18.0.0",
      "react-dom": ">=18.0.0"
    }
  },
  "exports": [
    "Select",
    "type SelectProps"
  ],
  "props": [
    {
      "displayName": "SelectProps",
      "description": "",
      "props": [
        {
          "name": "className",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "closeOnEscape",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "disabled",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "focusManagerProps",
          "type": "Partial<FloatingFocusManagerProps> | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "matchTriggerWidth",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onChange",
          "type": "((value: string) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onOpenChange",
          "type": "((open: boolean) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "open",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "placement",
          "type": "undefined | \"bottom-start\" | \"bottom-end\"",
          "required": false,
          "description": ""
        },
        {
          "name": "portalId",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "readOnly",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "root",
          "type": "HTMLElement | null | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "size",
          "type": "undefined | \"default\" | \"large\"",
          "required": false,
          "description": ""
        },
        {
          "name": "value",
          "type": "string | null | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "variant",
          "type": "undefined | \"default\" | \"light\" | \"reset\"",
          "required": false,
          "description": ""
        }
      ]
    }
  ],
  "stories": [
    {
      "id": "collections-select--basic",
      "name": "Basic",
      "exportName": "Basic",
      "description": "Basic select component using the new MenuContext system.\n\nFeatures:\n- Enhanced MenuContextItem components\n- Unified interaction handling with useEventCallback\n- Improved keyboard navigation and selection\n- Better ref management for floating UI",
      "source": "import { Select } from \"@choice-ui/select\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<string>(\"Option 2\")\n\n  return (\n    <Select\n      value={value}\n      onChange={setValue}\n    >\n      <Select.Trigger>\n        <Select.Value>{value || \"Select an option...\"}</Select.Value>\n      </Select.Trigger>\n      <Select.Content>\n        {Array.from({ length: 8 }, (_, i) => (\n          <Select.Item\n            key={i}\n            value={`Option ${i + 1}`}\n          >\n            <Select.Value>Option {i + 1}</Select.Value>\n          </Select.Item>\n        ))}\n      </Select.Content>\n    </Select>\n  )\n\n}"
    },
    {
      "id": "collections-select--disabled",
      "name": "Disabled",
      "exportName": "Disabled",
      "description": "Select component in disabled state.",
      "source": "import { Select } from \"@choice-ui/select\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<string>(\"Option 2\")\n\n  return (\n    <Select\n      disabled\n      value={value}\n      onChange={setValue}\n    >\n      <Select.Trigger>\n        <Select.Value>{value || \"Select an option...\"}</Select.Value>\n      </Select.Trigger>\n      <Select.Content>\n        {Array.from({ length: 5 }, (_, i) => (\n          <Select.Item\n            key={i}\n            value={`Option ${i + 1}`}\n          >\n            <Select.Value>Option {i + 1}</Select.Value>\n          </Select.Item>\n        ))}\n      </Select.Content>\n    </Select>\n  )\n\n}"
    },
    {
      "id": "collections-select--disabled-options",
      "name": "Disabled Options",
      "exportName": "DisabledOptions",
      "description": "Select with individual disabled options.",
      "source": "import { Select } from \"@choice-ui/select\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<string>(\"Option 2\")\n\n  return (\n    <Select\n      value={value}\n      onChange={setValue}\n    >\n      <Select.Trigger>\n        <Select.Value>{value || \"Select an option...\"}</Select.Value>\n      </Select.Trigger>\n      <Select.Content>\n        <Select.Item\n          value=\"Option 1\"\n          disabled\n        >\n          <Select.Value>Option 1 (Disabled)</Select.Value>\n        </Select.Item>\n        <Select.Item value=\"Option 2\">\n          <Select.Value>Option 2</Select.Value>\n        </Select.Item>\n        <Select.Item value=\"Option 3\">\n          <Select.Value>Option 3</Select.Value>\n        </Select.Item>\n        <Select.Item\n          value=\"Option 4\"\n          disabled\n        >\n          <Select.Value>Option 4 (Disabled)</Select.Value>\n        </Select.Item>\n        <Select.Item value=\"Option 5\">\n          <Select.Value>Option 5</Select.Value>\n        </Select.Item>\n      </Select.Content>\n    </Select>\n  )\n\n}"
    },
    {
      "id": "collections-select--with-divider",
      "name": "With Divider",
      "exportName": "WithDivider",
      "description": "Select with dividers for grouping options.",
      "source": "import { Select } from \"@choice-ui/select\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<string>(\"Category A - Option 1\")\n\n  return (\n    <Select\n      value={value}\n      onChange={setValue}\n    >\n      <Select.Trigger>\n        <Select.Value>{value || \"Select an option...\"}</Select.Value>\n      </Select.Trigger>\n      <Select.Content>\n        <Select.Item value=\"Category A - Option 1\">\n          <Select.Value>Category A - Option 1</Select.Value>\n        </Select.Item>\n        <Select.Item value=\"Category A - Option 2\">\n          <Select.Value>Category A - Option 2</Select.Value>\n        </Select.Item>\n        <Select.Divider />\n        <Select.Item value=\"Category B - Option 1\">\n          <Select.Value>Category B - Option 1</Select.Value>\n        </Select.Item>\n        <Select.Item value=\"Category B - Option 2\">\n          <Select.Value>Category B - Option 2</Select.Value>\n        </Select.Item>\n        <Select.Divider />\n        <Select.Item value=\"Category C - Option 1\">\n          <Select.Value>Category C - Option 1</Select.Value>\n        </Select.Item>\n      </Select.Content>\n    </Select>\n  )\n\n}"
    },
    {
      "id": "collections-select--with-labels",
      "name": "With Labels",
      "exportName": "WithLabels",
      "description": "Select with labels for better organization.",
      "source": "import { Select } from \"@choice-ui/select\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<string>(\"Starter\")\n\n  return (\n    <Select\n      value={value}\n      onChange={setValue}\n    >\n      <Select.Trigger>\n        <Select.Value>{value || \"Select a plan...\"}</Select.Value>\n      </Select.Trigger>\n      <Select.Content>\n        <Select.Label>Basic Plans</Select.Label>\n        <Select.Item value=\"Starter\">\n          <Select.Value>Starter</Select.Value>\n        </Select.Item>\n        <Select.Item value=\"Professional\">\n          <Select.Value>Professional</Select.Value>\n        </Select.Item>\n\n        <Select.Divider />\n\n        <Select.Label>Premium Plans</Select.Label>\n        <Select.Item value=\"Business\">\n          <Select.Value>Business</Select.Value>\n        </Select.Item>\n        <Select.Item value=\"Enterprise\">\n          <Select.Value>Enterprise</Select.Value>\n        </Select.Item>\n\n        <Select.Divider />\n\n        <Select.Label>Custom Solutions</Select.Label>\n        <Select.Item value=\"Custom - Tailored\">\n          <Select.Value>Tailored</Select.Value>\n        </Select.Item>\n      </Select.Content>\n    </Select>\n  )\n\n}"
    },
    {
      "id": "collections-select--with-icons",
      "name": "With Icons",
      "exportName": "WithIcons",
      "description": "Select with icons for better visual recognition.",
      "source": "import { Select } from \"@choice-ui/select\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<string>(\"Attachment Field\")\n\n  return (\n    <Select\n      value={value}\n      onChange={setValue}\n    >\n      <Select.Trigger>\n        <Select.Value>{value || \"Select field type...\"}</Select.Value>\n      </Select.Trigger>\n      <Select.Content>\n        <Select.Item value=\"Attachment Field\">\n          <FieldTypeAttachment />\n          <Select.Value>Attachment Field</Select.Value>\n        </Select.Item>\n        <Select.Item value=\"Checkbox Field\">\n          <FieldTypeCheckbox />\n          <Select.Value>Checkbox Field</Select.Value>\n        </Select.Item>\n        <Select.Item value=\"Count Field\">\n          <FieldTypeCount />\n          <Select.Value>Count Field</Select.Value>\n        </Select.Item>\n      </Select.Content>\n    </Select>\n  )\n\n}"
    },
    {
      "id": "collections-select--long-list",
      "name": "Long List",
      "exportName": "LongList",
      "description": "Select with a large number of options demonstrating scroll performance.",
      "source": "import { Select } from \"@choice-ui/select\"\nimport { useState, useMemo } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<string>(\"item-25\")\n\n  const options = useMemo(\n    () =>\n      Array.from({ length: 100 }, (_, i) => ({\n        value: `item-${i + 1}`,\n        label: `${CITY_NAMES[i % CITY_NAMES.length]} ${i + 1}`,\n      })),\n    [],\n  )\n\n  return (\n    <Select\n      value={value}\n      onChange={setValue}\n    >\n      <Select.Trigger>\n        <Select.Value>\n          {value ? options.find((opt) => opt.value === value)?.label : \"Select a city...\"}\n        </Select.Value>\n      </Select.Trigger>\n      <Select.Content>\n        <Select.Label>Cities ({options.length} total)</Select.Label>\n        {options.map((option) => (\n          <Select.Item\n            key={option.value}\n            value={option.value}\n          >\n            <Select.Value>{option.label}</Select.Value>\n          </Select.Item>\n        ))}\n      </Select.Content>\n    </Select>\n  )\n\n}"
    },
    {
      "id": "collections-select--match-trigger-width",
      "name": "Match Trigger Width",
      "exportName": "MatchTriggerWidth",
      "description": "Select that matches the trigger width for consistent layout.",
      "source": "import { Select } from \"@choice-ui/select\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<string>(\"medium\")\n\n  const options = [\n    { value: \"small\", label: \"Small\" },\n    { value: \"medium\", label: \"Medium\" },\n    { value: \"large\", label: \"Large\" },\n    { value: \"extra-large\", label: \"Extra Large\" },\n  ]\n\n  return (\n    <Select\n      value={value}\n      onChange={setValue}\n      matchTriggerWidth\n    >\n      <Select.Trigger className=\"w-80\">\n        <Select.Value>\n          {value ? options.find((opt) => opt.value === value)?.label : \"Select a song...\"}\n        </Select.Value>\n      </Select.Trigger>\n      <Select.Content>\n        <Select.Label>Songs</Select.Label>\n        {options.map((option) => (\n          <Select.Item\n            key={option.value}\n            value={option.value}\n          >\n            <Select.Value>{option.label}</Select.Value>\n          </Select.Item>\n        ))}\n      </Select.Content>\n    </Select>\n  )\n\n}"
    },
    {
      "id": "collections-select--placement",
      "name": "Placement",
      "exportName": "Placement",
      "description": "Select with different placement options.",
      "source": "import { Select } from \"@choice-ui/select\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<string>(\"option-2\")\n\n  return (\n    <div className=\"flex flex-wrap gap-4\">\n      <Select\n        value={value}\n        onChange={setValue}\n        placement=\"bottom-start\"\n      >\n        <Select.Trigger>\n          <Select.Value>Bottom Start</Select.Value>\n        </Select.Trigger>\n        <Select.Content>\n          {Array.from({ length: 5 }, (_, i) => (\n            <Select.Item\n              key={i}\n              value={`option-${i + 1}`}\n            >\n              <Select.Value>Option {i + 1}</Select.Value>\n            </Select.Item>\n          ))}\n        </Select.Content>\n      </Select>\n\n      <Select\n        value={value}\n        onChange={setValue}\n        placement=\"bottom-end\"\n      >\n        <Select.Trigger>\n          <Select.Value>Bottom End</Select.Value>\n        </Select.Trigger>\n        <Select.Content>\n          {Array.from({ length: 5 }, (_, i) => (\n            <Select.Item\n              key={i}\n              value={`option-${i + 1}`}\n            >\n              <Select.Value>Option {i + 1}</Select.Value>\n            </Select.Item>\n          ))}\n        </Select.Content>\n      </Select>\n\n      <Select\n        value={value}\n        onChange={setValue}\n        placement=\"bottom-start\"\n      >\n        <Select.Trigger>\n          <Select.Value>Another Bottom Start</Select.Value>\n        </Select.Trigger>\n        <Select.Content>\n          {Array.from({ length: 5 }, (_, i) => (\n            <Select.Item\n              key={i}\n              value={`option-${i + 1}`}\n            >\n              <Select.Value>Option {i + 1}</Select.Value>\n            </Select.Item>\n          ))}\n        </Select.Content>\n      </Select>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-select--compound-component",
      "name": "Compound Component",
      "exportName": "CompoundComponent",
      "description": "Compound component pattern demonstration.",
      "source": "import { Select } from \"@choice-ui/select\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<string | null>(\"option-2\")\n\n  return (\n    <div className=\"flex w-80 flex-col gap-8\">\n      <Select\n        value={value}\n        onChange={setValue}\n      >\n        <Select.Trigger>\n          <Select.Value>{value ? `Selected: ${value}` : \"Choose an option...\"}</Select.Value>\n        </Select.Trigger>\n        <Select.Content>\n          <Select.Label>Available Options</Select.Label>\n          <Select.Item value=\"option-1\">\n            <Select.Value>First Option</Select.Value>\n          </Select.Item>\n          <Select.Item value=\"option-2\">\n            <Select.Value>Second Option</Select.Value>\n          </Select.Item>\n          <Select.Divider />\n          <Select.Item value=\"option-3\">\n            <Select.Value>Third Option</Select.Value>\n          </Select.Item>\n          <Select.Item\n            value=\"option-4\"\n            disabled\n          >\n            <Select.Value>Disabled Option</Select.Value>\n          </Select.Item>\n        </Select.Content>\n      </Select>\n\n      <div className=\"bg-secondary-background rounded-xl p-4\">\n        <p>Current Selection: {value || \"None\"}</p>\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-select--item-active",
      "name": "Item Active",
      "exportName": "ItemActive",
      "description": "Select.Item with custom onClick action handling.\n\nWhen a Select.Item has an onClick prop, it behaves as an action item rather than a selection item:\n- Clicking the item executes the onClick handler instead of changing the Select value\n- The Select menu will close after the onClick handler executes\n- The current selection value remains unchanged\n- Useful for adding action buttons within Select menus (e.g., \"Settings\", \"More options\", etc.)\n\nIn this example:\n- The first three items are normal selection items that update the Select value\n- The \"Open Music Settings\" item has an onClick handler that opens a Popover\n- The item with onClick does not require a value prop, as it won't be selected",
      "source": "import { Select } from \"@choice-ui/select\"\nimport { useState, useRef } from \"react\"\n\nexport default function App() {\n\n  const [open, setOpen] = useState(false)\n  const [selectOpen, setSelectOpen] = useState(false)\n  const itemRef = useRef<HTMLDivElement>(null)\n  const [value, setValue] = useState<string | null>(null)\n\n  const options = [\n    { value: \"option-1\", label: \"Option 1\" },\n    { value: \"option-2\", label: \"Option 2\" },\n    { value: \"option-3\", label: \"Option 3\" },\n  ]\n\n  return (\n    <>\n      <Select\n        value={value}\n        onChange={setValue}\n        open={selectOpen}\n        onOpenChange={setSelectOpen}\n      >\n        <Select.Trigger>\n          <Select.Value ref={itemRef}>\n            {value ? options.find((option) => option.value === value)?.label : \"Select song...\"}\n          </Select.Value>\n        </Select.Trigger>\n        <Select.Content>\n          <Select.Label>Music Library</Select.Label>\n          {options.map((option) => (\n            <Select.Item\n              key={option.value}\n              value={option.value}\n            >\n              <Select.Value>{option.label}</Select.Value>\n            </Select.Item>\n          ))}\n          <Select.Divider />\n          <Select.Label>Actions</Select.Label>\n          <Select.Item\n            onClick={() => {\n              setOpen(true)\n              setSelectOpen(false)\n            }}\n          >\n            <Settings />\n            <Select.Value>Open Music Settings</Select.Value>\n          </Select.Item>\n        </Select.Content>\n      </Select>\n\n      <Popover\n        open={open}\n        onOpenChange={setOpen}\n        triggerRef={itemRef}\n      >\n        <Popover.Content className=\"w-80 space-y-4 p-4\">\n          <h3 className=\"font-strong\">Music Settings</h3>\n          <p className=\"text-secondary-foreground\">\n            Configure your music playback preferences and library settings.\n          </p>\n        </Popover.Content>\n        <Popover.Footer className=\"flex justify-end gap-2\">\n          <Button\n            variant=\"secondary\"\n            onClick={() => setOpen(false)}\n          >\n            Cancel\n          </Button>\n          <Button onClick={() => setOpen(false)}>Save</Button>\n        </Popover.Footer>\n      </Popover>\n    </>\n  )\n\n}"
    },
    {
      "id": "collections-select--large",
      "name": "Large",
      "exportName": "Large",
      "description": "Select component in large size.",
      "source": "import { Select } from \"@choice-ui/select\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<string>(\"option-1\")\n  const options = Array.from({ length: 8 }, (_, i) => ({\n    value: `option-${i + 1}`,\n    label: `Option ${i + 1}`,\n  }))\n\n  return (\n    <Select\n      size=\"large\"\n      value={value}\n      onChange={setValue}\n    >\n      <Select.Trigger\n        prefixElement={<Settings />}\n        className=\"w-48\"\n      >\n        <Select.Value>\n          {value ? options.find((option) => option.value === value)?.label : \"Select song...\"}\n        </Select.Value>\n      </Select.Trigger>\n      <Select.Content>\n        {options.map((option) => (\n          <Select.Item\n            key={option.value}\n            value={option.value}\n          >\n            <Select.Value>{option.label}</Select.Value>\n          </Select.Item>\n        ))}\n      </Select.Content>\n    </Select>\n  )\n\n}"
    },
    {
      "id": "collections-select--close-on-escape",
      "name": "Close On Escape",
      "exportName": "CloseOnEscape",
      "description": "ESC key behavior control and event propagation verification.\n\nUse the checkbox to toggle closeOnEscape behavior:\n- When enabled (default): Pressing ESC closes the select menu and prevents event propagation\n- When disabled: Pressing ESC does NOT close the select menu, allowing event to propagate\n\nThe ESC counter tracks window-level ESC events. When closeOnEscape is true and the select is open,\npressing ESC will close the menu but NOT increment the counter (event is stopped).\nWhen closeOnEscape is false, pressing ESC will increment the counter.",
      "source": "import { Select } from \"@choice-ui/select\"\nimport { useState, useEffect } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<string>(\"Option 2\")\n  const [closeOnEscape, setCloseOnEscape] = useState(true)\n  const [escCount, setEscCount] = useState(0)\n\n  React.useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === \"Escape\") {\n        setEscCount((prev) => prev + 1)\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleEscape)\n    return () => window.removeEventListener(\"keydown\", handleEscape)\n  }, [])\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <Checkbox\n        value={closeOnEscape}\n        onChange={setCloseOnEscape}\n      >\n        <Checkbox.Label>Close on ESC key</Checkbox.Label>\n      </Checkbox>\n\n      <div className=\"bg-secondary-background w-64 rounded-xl p-4\">\n        <p className=\"mb-2\">\n          Window ESC count: <strong>{escCount}</strong>\n        </p>\n        <p className=\"text-secondary-foreground\">\n          {closeOnEscape\n            ? \"When select is open, pressing ESC will close it but NOT increment the counter (event is stopped).\"\n            : \"When select is open, pressing ESC will increment the counter (event propagates).\"}\n        </p>\n      </div>\n\n      <Select\n        matchTriggerWidth\n        value={value}\n        onChange={setValue}\n        closeOnEscape={closeOnEscape}\n      >\n        <Select.Trigger>\n          <Select.Value>{value || \"Select an option...\"}</Select.Value>\n        </Select.Trigger>\n        <Select.Content>\n          {Array.from({ length: 5 }, (_, i) => (\n            <Select.Item\n              key={i}\n              value={`Option ${i + 1}`}\n            >\n              <Select.Value>Option {i + 1}</Select.Value>\n            </Select.Item>\n          ))}\n        </Select.Content>\n      </Select>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-select--light",
      "name": "Light",
      "exportName": "Light",
      "description": "Select component in light variant.",
      "source": "import { Select } from \"@choice-ui/select\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<string>(\"Option 2\")\n  return (\n    <Select\n      variant=\"light\"\n      value={value}\n      onChange={setValue}\n    >\n      <Select.Trigger>\n        <Select.Value>{value || \"Select an option...\"}</Select.Value>\n      </Select.Trigger>\n      <Select.Content>\n        {Array.from({ length: 5 }, (_, i) => (\n          <Select.Item\n            key={i}\n            value={`Option ${i + 1}`}\n          >\n            <Select.Value>Option {i + 1}</Select.Value>\n          </Select.Item>\n        ))}\n      </Select.Content>\n    </Select>\n  )\n\n}"
    }
  ],
  "tags": [
    "upgrade"
  ]
}