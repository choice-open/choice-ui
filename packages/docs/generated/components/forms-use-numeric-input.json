{
  "slug": "forms/use-numeric-input",
  "title": "useNumericInput",
  "package": {
    "name": "@choice-ui/numeric-input",
    "version": "0.0.7",
    "description": "Numeric Input component for Choiceform Design System",
    "dependencies": {
      "@choice-ui/chip": "workspace:*",
      "@choice-ui/shared": "workspace:*",
      "@choice-ui/icon-button": "workspace:*",
      "@choiceform/icons-react": "^1.3.8",
      "@choice-ui/tooltip": "workspace:*",
      "usehooks-ts": "^3.1.0"
    },
    "peerDependencies": {
      "react": ">=18.0.0",
      "react-dom": ">=18.0.0"
    }
  },
  "exports": [
    "type ElementType",
    "type NumericInputElementProps",
    "NumericInputElement",
    "NumericInputMenuTrigger",
    "NumericInputMenuActionPrompt",
    "NumericInputVariable",
    "useNumericInput",
    "useStepCalculation",
    "useNumericValueProcessing",
    "useInputInteractions",
    "type NumericInputProps",
    "NumericInputBase",
    "NumericInput",
    "type NumberResult",
    "type NumericInputValue"
  ],
  "props": [
    {
      "displayName": "NumericInputElement",
      "description": "",
      "props": [
        {
          "name": "className",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "position",
          "type": "undefined | \"prefix\" | \"suffix\"",
          "required": false,
          "description": ""
        },
        {
          "name": "type",
          "type": "undefined | \"action\" | \"handler\" | \"menu\"",
          "required": false,
          "description": ""
        },
        {
          "name": "ref",
          "type": "((instance: HTMLDivElement | null) => void) | RefObject<HTMLDivElement> | null | undefined",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "NumericInputMenuTrigger",
      "description": "",
      "props": [
        {
          "name": "className",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "type",
          "type": "undefined | \"action\" | \"menu\"",
          "required": false,
          "description": ""
        },
        {
          "name": "size",
          "type": "undefined | \"default\" | \"large\" | \"reset\"",
          "required": false,
          "description": ""
        },
        {
          "name": "as",
          "type": "ElementType<any, keyof IntrinsicElements> | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "disabled",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "readOnly",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "active",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "asChild",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "focused",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "loading",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "tooltip",
          "type": "TooltipProps | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "variant",
          "type": "undefined | \"default\" | \"reset\" | \"secondary\" | \"solid\" | \"highlight\" | \"ghost\" | \"dark\"",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "NumericInputMenuActionPrompt",
      "description": "",
      "props": [
        {
          "name": "className",
          "type": "string | undefined",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "NumericInputVariable",
      "description": "",
      "props": [
        {
          "name": "className",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "hasPrefixElement",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onClick",
          "type": "((e: MouseEvent<HTMLDivElement, MouseEvent>) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "value",
          "type": "number | null | undefined",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "useNumericInput",
      "description": "数值输入控件的主钩子，整合各种交互功能",
      "props": [
        {
          "name": "containerRef",
          "type": "RefObject<HTMLElement> | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "decimal",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "defaultValue",
          "type": "NumericInputValue | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "disabled",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "expression",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "max",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "min",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onChange",
          "type": "((value: T, obj: NumberResult) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onEmpty",
          "type": "(() => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onPressEnd",
          "type": "(((event: PressEvent) => void) & ((e: PointerEvent) => void)) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onPressStart",
          "type": "(((event: PressEvent) => void) & ((e: PointerEvent) => void)) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "readOnly",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "ref",
          "type": "Ref<HTMLInputElement> | undefined",
          "required": false,
          "description": "Allows getting a ref to the component instance.\nOnce the component unmounts, React will set `ref.current` to `null`\n(or call the ref with `null` if you passed a callback ref)."
        },
        {
          "name": "shiftStep",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "step",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "value",
          "type": "NumericInputValue | undefined",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "useStepCalculation",
      "description": "计算数值步进大小的钩子",
      "props": []
    },
    {
      "displayName": "useNumericValueProcessing",
      "description": "处理数值输入和转换的钩子",
      "props": [
        {
          "name": "decimal",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "defaultValue",
          "type": "NumericInputValue | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "expression",
          "type": "string",
          "required": true,
          "description": ""
        },
        {
          "name": "max",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "min",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "value",
          "type": "NumericInputValue | undefined",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "useInputInteractions",
      "description": "处理输入框交互的钩子",
      "props": [
        {
          "name": "decimal",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "disabled",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "displayValue",
          "type": "string",
          "required": true,
          "description": ""
        },
        {
          "name": "expression",
          "type": "string",
          "required": true,
          "description": ""
        },
        {
          "name": "getCurrentStep",
          "type": "() => number",
          "required": true,
          "description": ""
        },
        {
          "name": "innerValue",
          "type": "NumberResult | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "inputRef",
          "type": "RefObject<HTMLInputElement>",
          "required": true,
          "description": ""
        },
        {
          "name": "isFocused",
          "type": "boolean",
          "required": true,
          "description": ""
        },
        {
          "name": "max",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "min",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onChange",
          "type": "((value: T, detail: NumberResult) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onEmpty",
          "type": "(() => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "readOnly",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "setDisplayValue",
          "type": "(value: string) => void",
          "required": true,
          "description": ""
        },
        {
          "name": "setIsFocused",
          "type": "(focused: boolean) => void",
          "required": true,
          "description": ""
        },
        {
          "name": "setValue",
          "type": "(value: NumberResult | ((prev: NumberResult | undefined) => NumberResult)) => void",
          "required": true,
          "description": ""
        },
        {
          "name": "updateValue",
          "type": "(updateFn?: ((value: number) => number) | undefined) => void",
          "required": true,
          "description": ""
        },
        {
          "name": "value",
          "type": "NumericInputValue | undefined",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "NumericInputValue",
      "description": "",
      "props": [
        {
          "name": "value",
          "type": "NumericInputValue | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "defaultValue",
          "type": "NumericInputValue | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onChange",
          "type": "((value: NumericInputValue, detail: NumberResult) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "max",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "min",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "step",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "disabled",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "id",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "readOnly",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "selected",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "className",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "classNames",
          "type": "{ container?: string | undefined; input?: string | undefined; } | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "tooltip",
          "type": "TooltipProps | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "triggerRef",
          "type": "RefObject<HTMLDivElement> | ((el: HTMLDivElement | null) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "decimal",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "expression",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "focused",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "handlerPressed",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "handlerProps",
          "type": "Record<string, unknown> | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onEmpty",
          "type": "(() => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onIsEditingChange",
          "type": "((isEditing: boolean) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onPressEnd",
          "type": "(((event: PressEvent) => void) & ((e: PointerEvent) => void)) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onPressStart",
          "type": "(((event: PressEvent) => void) & ((e: PointerEvent) => void)) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "shiftStep",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "variant",
          "type": "undefined | \"default\" | \"light\" | \"dark\" | \"reset\"",
          "required": false,
          "description": ""
        }
      ]
    }
  ],
  "stories": [
    {
      "id": "forms-usenumericinput--basic",
      "name": "Basic",
      "exportName": "Basic",
      "description": "# useNumericInput Hook\n\nA powerful React hook that provides comprehensive numeric input functionality\nincluding value processing, keyboard navigation, and interactive adjustments.\n\n## Core Features\n- Basic number input with validation\n- Expression evaluation (math calculations)\n- Pattern-based formatting (units, multiple values)\n- Keyboard navigation (arrow keys, modifiers)\n- Drag-to-adjust values\n- Constraint handling (min/max/step)\nBasic implementation showcasing core functionality:\n- Number input with validation\n- Drag-to-adjust value\n- Value display and formatting",
      "source": "import { useNumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<number>(0)\n  const { inputProps, handlerProps } = useNumericInput({\n    value,\n    onChange: (newValue) => setValue(newValue as number),\n  })\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <input\n          {...inputProps}\n          className=\"w-24 rounded border border-gray-300 px-2 py-1\"\n          placeholder=\"Enter number\"\n        />\n        <div\n          {...handlerProps}\n          className=\"cursor-ew-resize px-4 select-none\"\n        >\n          ⟷\n        </div>\n      </div>\n      <div>Current value: {value}</div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-usenumericinput--expression",
      "name": "Expression",
      "exportName": "Expression",
      "description": "Demonstrates expression patterns with unit formatting:\n- Input values with units (e.g., \"100px\")\n- Automatic parsing and formatting\n- Unit preservation during interactions",
      "source": "import { useNumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState(\"100px\")\n  const { inputProps, handlerProps } = useNumericInput({\n    value,\n    expression: \"{value}px\",\n    onChange: (newValue) => setValue(newValue as string),\n  })\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <input\n          {...inputProps}\n          className=\"w-24 rounded border border-gray-300 px-2 py-1\"\n          placeholder=\"Enter value\"\n        />\n        <div\n          {...handlerProps}\n          className=\"cursor-ew-resize px-4 select-none\"\n        >\n          ⟷\n        </div>\n      </div>\n      <div>Current value: {value}</div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-usenumericinput--multiple-values",
      "name": "Multiple Values",
      "exportName": "MultipleValues",
      "description": "Shows handling multi-value inputs with structured output:\n- Coordinate-style inputs (x,y format)\n- Object-based value representation\n- Synchronized value updates",
      "source": "import { useNumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<Record<string, number>>({\n    x: 100,\n    y: 200,\n  })\n  const { inputProps, handlerProps } = useNumericInput({\n    value,\n    expression: \"{x},{y}\",\n    onChange: (newValue) => setValue(newValue as Record<string, number>),\n  })\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <input\n          {...inputProps}\n          className=\"w-32 rounded border border-gray-300 px-2 py-1\"\n          placeholder=\"x,y\"\n        />\n        <div\n          {...handlerProps}\n          className=\"cursor-ew-resize px-4 select-none\"\n        >\n          ⟷\n        </div>\n      </div>\n      <div>\n        X: {value.x}, Y: {value.y}\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-usenumericinput--constraints",
      "name": "Constraints",
      "exportName": "Constraints",
      "description": "Demonstrates value constraints and step controls:\n- Min/max boundaries\n- Step increments\n- Modifier keys for step adjustment\n- Decimal precision control",
      "source": "import { useNumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState(50)\n  const { inputProps, handlerProps } = useNumericInput({\n    value,\n    min: 0,\n    max: 100,\n    step: 5,\n    shiftStep: 20,\n    decimal: 0,\n    onChange: (newValue) => setValue(newValue as number),\n  })\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <input\n          {...inputProps}\n          className=\"w-24 rounded border border-gray-300 px-2 py-1\"\n          placeholder=\"0-100\"\n        />\n        <div\n          {...handlerProps}\n          className=\"cursor-ew-resize px-4 select-none\"\n        >\n          ⟷\n        </div>\n      </div>\n      <div>\n        Value: {value}\n        <div className=\"text-secondary-foreground text-body-small\">\n          Min: 0, Max: 100, Step: 5 (Shift: 20)\n        </div>\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-usenumericinput--array-values",
      "name": "Array Values",
      "exportName": "ArrayValues",
      "description": "Shows support for array values:\n- Array input/output\n- Comma-separated value parsing\n- Multiple value management",
      "source": "import { useNumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<number[]>([10, 20, 30])\n  const { inputProps, handlerProps } = useNumericInput({\n    value,\n    onChange: (newValue) => setValue(newValue as number[]),\n  })\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <input\n          {...inputProps}\n          className=\"w-32 rounded border border-gray-300 px-2 py-1\"\n          placeholder=\"Enter numbers\"\n        />\n        <div\n          {...handlerProps}\n          className=\"cursor-ew-resize px-4 select-none\"\n        >\n          ⟷\n        </div>\n      </div>\n      <div>Values: {value.join(\", \")}</div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-usenumericinput--states",
      "name": "States",
      "exportName": "States",
      "description": "Demonstrates input field states:\n- Disabled state\n- ReadOnly state\n- Visual state feedback",
      "source": "import { useNumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState(50)\n  const [isDisabled, setIsDisabled] = useState(false)\n  const [isReadOnly, setIsReadOnly] = useState(false)\n\n  const { inputProps, handlerProps } = useNumericInput({\n    value,\n    disabled: isDisabled,\n    readOnly: isReadOnly,\n    onChange: (newValue) => setValue(newValue as number),\n  })\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <input\n          {...inputProps}\n          className=\"w-24 rounded border border-gray-300 px-2 py-1\"\n          placeholder=\"Enter number\"\n        />\n        <div\n          {...handlerProps}\n          className=\"cursor-ew-resize px-4 select-none\"\n        >\n          ⟷\n        </div>\n      </div>\n      <div className=\"flex gap-4\">\n        <label>\n          <input\n            type=\"checkbox\"\n            checked={isDisabled}\n            onChange={(e) => setIsDisabled(e.target.checked)}\n          />{\" \"}\n          Disabled\n        </label>\n        <label>\n          <input\n            type=\"checkbox\"\n            checked={isReadOnly}\n            onChange={(e) => setIsReadOnly(e.target.checked)}\n          />{\" \"}\n          ReadOnly\n        </label>\n      </div>\n      <div>Value: {value}</div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-usenumericinput--math-expressions",
      "name": "Math Expressions",
      "exportName": "MathExpressions",
      "description": "Shows support for mathematical expression evaluation:\n- Basic arithmetic operations (+, -, *, /)\n- Expression parsing\n- Real-time calculation",
      "source": "import { useNumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState(\"1 + 2 * 3\")\n  const [result, setResult] = useState<number | null>(null)\n\n  const { inputProps, handlerProps } = useNumericInput({\n    value,\n    onChange: (newValue, details) => {\n      if (typeof newValue === \"string\") {\n        setValue(newValue)\n        setResult(details.array?.[0] ?? null)\n      }\n    },\n  })\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <input\n          {...inputProps}\n          className=\"w-32 rounded border border-gray-300 px-2 py-1 font-mono\"\n          placeholder=\"Math expression\"\n        />\n        <div\n          {...handlerProps}\n          className=\"cursor-ew-resize px-4 select-none\"\n        >\n          ⟷\n        </div>\n      </div>\n      <div>\n        <div>Expression: {value}</div>\n        {result !== null && <div className=\"font-bold\">Result: {result}</div>}\n        <div className=\"text-secondary-foreground text-body-small\">\n          Try: \"5+10\", \"(20-5)*2\", \"100/4\"\n        </div>\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-usenumericinput--empty-value",
      "name": "Empty Value",
      "exportName": "EmptyValue",
      "description": "Demonstrates empty value handling:\n- Support for undefined/null values\n- Value clearing functionality\n- Default value management",
      "source": "import { useNumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<number | undefined>(100)\n  const { inputProps, handlerProps } = useNumericInput({\n    value,\n    onChange: (newValue) => {\n      if (typeof newValue === \"number\" || newValue === undefined) {\n        setValue(newValue)\n      }\n    },\n    onEmpty: () => setValue(undefined),\n  })\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <input\n          {...inputProps}\n          className=\"w-32 rounded border border-gray-300 px-2 py-1\"\n          placeholder=\"Clear for empty\"\n        />\n        <div\n          {...handlerProps}\n          className=\"cursor-ew-resize px-4 select-none\"\n        >\n          ⟷\n        </div>\n      </div>\n      <div className=\"flex items-center gap-2\">\n        <div>Current value: {value === undefined ? \"empty\" : value}</div>\n        <button\n          className=\"text-body-small rounded bg-gray-200 px-2 py-0.5\"\n          onClick={() => setValue(undefined)}\n        >\n          Clear\n        </button>\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-usenumericinput--keyboard-navigation",
      "name": "Keyboard Navigation",
      "exportName": "KeyboardNavigation",
      "description": "Demonstrates keyboard navigation and shortcuts:\n- Arrow up/down for value adjustment\n- Shift+arrow for larger steps\n- Meta/Alt+arrow for smaller steps",
      "source": "import { useNumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<number>(50)\n  const [lastKey, setLastKey] = useState<string | null>(null)\n\n  const { inputProps, handlerProps } = useNumericInput({\n    value,\n    min: 0,\n    max: 100,\n    step: 5,\n    shiftStep: 20,\n    onChange: (newValue) => setValue(newValue as number),\n  })\n\n  // Display which keys are being used\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    setLastKey(e.key)\n    // Allow the event to continue to the input\n    if (inputProps.onKeyDown) {\n      inputProps.onKeyDown(e as any)\n    }\n  }\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <input\n          {...inputProps}\n          onKeyDown={handleKeyDown}\n          className=\"w-24 rounded border border-gray-300 px-2 py-1\"\n          placeholder=\"Enter number\"\n        />\n        <div\n          {...handlerProps}\n          className=\"cursor-ew-resize px-4 select-none\"\n        >\n          ⟷\n        </div>\n      </div>\n      <div>\n        <div>Current value: {value}</div>\n        {lastKey && (\n          <div className=\"text-secondary-foreground text-body-small\">Last key: {lastKey}</div>\n        )}\n        <div className=\"text-secondary-foreground mt-2\">\n          <p>↑/↓: ±5, Shift+↑/↓: ±20, Meta/Alt+↑/↓: ±1</p>\n        </div>\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-usenumericinput--focus-state",
      "name": "Focus State",
      "exportName": "FocusState",
      "description": "Shows focus state handling and event tracking:\n- Focus/blur events\n- Editing state visualization\n- Event notification",
      "source": "import { useNumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<number>(50)\n  const [isEditing, setIsEditing] = useState<boolean>(false)\n  const [lastEvent, setLastEvent] = useState<string>(\"\")\n\n  const { inputProps, handlerProps } = useNumericInput({\n    value,\n    onChange: (newValue) => {\n      setValue(newValue as number)\n      setLastEvent(\"onChange\")\n    },\n    onEmpty: () => setLastEvent(\"onEmpty\"),\n  })\n\n  const handleFocus = (e: React.FocusEvent<HTMLInputElement>) => {\n    setIsEditing(true)\n    setLastEvent(\"onFocus\")\n    if (inputProps.onFocus) inputProps.onFocus(e)\n  }\n\n  const handleBlur = () => {\n    setIsEditing(false)\n    setLastEvent(\"onBlur\")\n    if (inputProps.onBlur) inputProps.onBlur()\n  }\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <div className={`h-6 w-1 rounded ${isEditing ? \"bg-blue-500\" : \"bg-gray-200\"}`} />\n        <input\n          {...inputProps}\n          onFocus={handleFocus}\n          onBlur={handleBlur}\n          className={`w-32 rounded border ${isEditing ? \"border-blue-500\" : \"border-gray-300\"} px-2 py-1`}\n          placeholder=\"Focus me\"\n        />\n        <div\n          {...handlerProps}\n          className=\"cursor-ew-resize px-4 select-none\"\n        >\n          ⟷\n        </div>\n      </div>\n      <div>\n        <div>Current value: {value}</div>\n        <div className=\"text-body-small flex items-center gap-2\">\n          <span>State:</span>\n          <span\n            className={`rounded px-2 py-0.5 ${isEditing ? \"bg-blue-100 text-blue-800\" : \"bg-gray-100\"}`}\n          >\n            {isEditing ? \"Editing\" : \"Idle\"}\n          </span>\n          <span>Last event: {lastEvent}</span>\n        </div>\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-usenumericinput--error-handling",
      "name": "Error Handling",
      "exportName": "ErrorHandling",
      "description": "Demonstrates error handling and recovery:\n- Invalid input detection\n- Error feedback\n- Recovery mechanisms",
      "source": "import { useNumericInput } from \"@choice-ui/numeric-input\"\nimport { useState, useRef } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<number>(50)\n  const [errorState, setErrorState] = useState<{\n    hasError: boolean\n    message: string\n  }>({\n    hasError: false,\n    message: \"\",\n  })\n  const inputRef = useRef<HTMLInputElement>(null)\n\n  const { inputProps, handlerProps } = useNumericInput({\n    value,\n    min: 0,\n    max: 100,\n    onChange: (newValue) => {\n      setValue(newValue as number)\n      setErrorState({ hasError: false, message: \"\" })\n    },\n  })\n\n  const handleManualInput = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const input = e.target.value\n\n    if (inputProps.onChange) {\n      inputProps.onChange(e)\n    }\n\n    if (input && isNaN(Number(input)) && !/^[\\d+\\-*/().]+$/.test(input)) {\n      setErrorState({\n        hasError: true,\n        message: \"Only numbers and math operators allowed\",\n      })\n    } else {\n      setErrorState({ hasError: false, message: \"\" })\n    }\n  }\n\n  const handleBlur = () => {\n    if (errorState.hasError && inputRef.current) {\n      setErrorState({ hasError: false, message: \"\" })\n    }\n\n    if (inputProps.onBlur) {\n      inputProps.onBlur()\n    }\n  }\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <input\n          {...inputProps}\n          ref={inputRef}\n          onChange={handleManualInput}\n          onBlur={handleBlur}\n          className={`w-32 rounded border ${errorState.hasError ? \"border-red-500 bg-red-50\" : \"border-gray-300\"} px-2 py-1`}\n          placeholder=\"Try invalid input\"\n        />\n        <div\n          {...handlerProps}\n          className=\"cursor-ew-resize px-4 select-none\"\n        >\n          ⟷\n        </div>\n      </div>\n      <div>\n        <div>Current value: {value}</div>\n        {errorState.hasError && (\n          <div className=\"text-body-small text-red-500\">{errorState.message}</div>\n        )}\n        <div className=\"text-secondary-foreground text-body-small\">\n          Try valid (50, 1+2) or invalid (abc, 50px) inputs\n        </div>\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-usenumericinput--linked-inputs",
      "name": "Linked Inputs",
      "exportName": "LinkedInputs",
      "description": "Shows a practical example with linked inputs:\n- Coordinated multiple inputs\n- Shared state management\n- Visual result feedback",
      "source": "import { useNumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  // Color values in RGB\n  const [color, setColor] = useState({ r: 255, g: 100, b: 50 })\n\n  // Handlers for each component\n  const redInput = useNumericInput({\n    value: color.r,\n    min: 0,\n    max: 255,\n    step: 1,\n    onChange: (value) => setColor((prev) => ({ ...prev, r: value as number })),\n  })\n\n  const greenInput = useNumericInput({\n    value: color.g,\n    min: 0,\n    max: 255,\n    step: 1,\n    onChange: (value) => setColor((prev) => ({ ...prev, g: value as number })),\n  })\n\n  const blueInput = useNumericInput({\n    value: color.b,\n    min: 0,\n    max: 255,\n    step: 1,\n    onChange: (value) => setColor((prev) => ({ ...prev, b: value as number })),\n  })\n\n  // Convert RGB to hex\n  const rgbToHex = (r: number, g: number, b: number) => {\n    return `#${r.toString(16).padStart(2, \"0\")}${g.toString(16).padStart(2, \"0\")}${b.toString(16).padStart(2, \"0\")}`\n  }\n\n  const hexColor = rgbToHex(color.r, color.g, color.b)\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"grid max-w-md grid-cols-3 gap-4\">\n        <div className=\"flex flex-col gap-1\">\n          <label className=\"text-body-small-strong text-red-600\">Red</label>\n          <div className=\"flex items-center gap-2\">\n            <input\n              {...redInput.inputProps}\n              className=\"w-full rounded border border-red-200 bg-red-50 px-2 py-1\"\n              placeholder=\"0-255\"\n            />\n            <div\n              {...redInput.handlerProps}\n              className=\"cursor-ew-resize text-red-500\"\n            >\n              ⟷\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex flex-col gap-1\">\n          <label className=\"text-body-small-strong text-green-600\">Green</label>\n          <div className=\"flex items-center gap-2\">\n            <input\n              {...greenInput.inputProps}\n              className=\"w-full rounded border border-green-200 bg-green-50 px-2 py-1\"\n              placeholder=\"0-255\"\n            />\n            <div\n              {...greenInput.handlerProps}\n              className=\"cursor-ew-resize text-green-500\"\n            >\n              ⟷\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex flex-col gap-1\">\n          <label className=\"text-body-small-strong text-blue-600\">Blue</label>\n          <div className=\"flex items-center gap-2\">\n            <input\n              {...blueInput.inputProps}\n              className=\"w-full rounded border border-blue-200 bg-blue-50 px-2 py-1\"\n              placeholder=\"0-255\"\n            />\n            <div\n              {...blueInput.handlerProps}\n              className=\"cursor-ew-resize text-blue-500\"\n            >\n              ⟷\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"flex items-center gap-4\">\n        <div\n          style={{\n            backgroundColor: hexColor,\n            width: \"100px\",\n            height: \"50px\",\n            borderRadius: \"6px\",\n          }}\n        />\n        <div className=\"flex flex-col\">\n          <div className=\"text-body-large font-mono\">{hexColor}</div>\n          <div className=\"text-secondary-foreground text-body-small\">\n            rgb({color.r}, {color.g}, {color.b})\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-usenumericinput--controlled-vs-uncontrolled",
      "name": "Controlled Vs Uncontrolled",
      "exportName": "ControlledVsUncontrolled",
      "description": "Demonstrates controlled vs uncontrolled modes:\n- Switching between modes\n- External value updates\n- Change event handling",
      "source": "import { useNumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [isControlled, setIsControlled] = useState(true)\n  const [controlledValue, setControlledValue] = useState(50)\n  const [lastChangeValue, setLastChangeValue] = useState<number | null>(null)\n\n  const { inputProps, handlerProps } = useNumericInput({\n    ...(isControlled ? { value: controlledValue } : { defaultValue: 50 }),\n    min: 0,\n    max: 100,\n    onChange: (newValue, details) => {\n      // Extract the actual numeric value to avoid rendering objects directly\n      const numericValue =\n        typeof newValue === \"object\" && newValue !== null\n          ? (details?.array?.[0] ?? 0)\n          : Number(newValue)\n\n      if (isControlled) {\n        setControlledValue(numericValue)\n      }\n      setLastChangeValue(numericValue)\n    },\n  })\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex items-center gap-2\">\n        <input\n          {...inputProps}\n          className=\"w-32 rounded border border-gray-300 px-2 py-1\"\n          placeholder=\"Enter number\"\n        />\n        <div\n          {...handlerProps}\n          className=\"cursor-ew-resize px-4 select-none\"\n        >\n          ⟷\n        </div>\n      </div>\n\n      <div>\n        <div className=\"flex items-center gap-4\">\n          <label className=\"flex items-center gap-2\">\n            <input\n              type=\"checkbox\"\n              checked={isControlled}\n              onChange={(e) => setIsControlled(e.target.checked)}\n            />\n            Controlled Mode\n          </label>\n\n          <button\n            onClick={() => isControlled && setControlledValue(Math.floor(Math.random() * 100))}\n            className={`text-body-small rounded px-3 py-1 ${\n              isControlled\n                ? \"bg-blue-500 text-white\"\n                : \"text-secondary-foreground cursor-not-allowed bg-gray-200\"\n            }`}\n          >\n            Random Value\n          </button>\n        </div>\n\n        <div className=\"text-body-small mt-3\">\n          <div>\n            <strong>Mode:</strong> {isControlled ? \"Controlled\" : \"Uncontrolled\"}\n          </div>\n          {isControlled && (\n            <div>\n              <strong>Controlled value:</strong> {controlledValue}\n            </div>\n          )}\n          {lastChangeValue !== null && (\n            <div>\n              <strong>Last onChange value:</strong> {lastChangeValue}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n\n}"
    }
  ]
}