{
  "slug": "collections/command",
  "title": "Command",
  "package": {
    "name": "@choice-ui/command",
    "version": "0.0.3",
    "description": "Command component for Choiceform Design System",
    "dependencies": {
      "usehooks-ts": "^3.1.0",
      "@choice-ui/shared": "workspace:*",
      "@choice-ui/input": "workspace:*",
      "@choice-ui/kbd": "workspace:*",
      "@choice-ui/scroll-area": "workspace:*",
      "@choice-ui/tabs": "workspace:*"
    },
    "peerDependencies": {
      "react": ">=18.0.0",
      "react-dom": ">=18.0.0"
    }
  },
  "exports": [
    "CommandRoot",
    "defaultFilter",
    "useCommandState",
    "Command"
  ],
  "props": [
    {
      "displayName": "Command",
      "description": "",
      "props": [
        {
          "name": "defaultValue",
          "type": "string | undefined",
          "required": false,
          "description": "Optional default item value when it is initially rendered."
        },
        {
          "name": "disablePointerSelection",
          "type": "boolean | undefined",
          "required": false,
          "description": "Optionally set to `true` to disable selection via pointer events."
        },
        {
          "name": "filter",
          "type": "CommandFilter | undefined",
          "required": false,
          "description": "Custom filter function for whether each command menu item should matches the given search query.\nIt should return a number between 0 and 1, with 1 being the best match and 0 being hidden entirely.\nBy default, uses the `command-score` library."
        },
        {
          "name": "label",
          "type": "string | undefined",
          "required": false,
          "description": "Accessible label for this command menu. Not shown visibly."
        },
        {
          "name": "loop",
          "type": "boolean | undefined",
          "required": false,
          "description": "Optionally set to `true` to turn on looping around when using the arrow keys."
        },
        {
          "name": "onChange",
          "type": "((value: string) => void) | undefined",
          "required": false,
          "description": "Event handler called when the selected item of the menu changes."
        },
        {
          "name": "shouldFilter",
          "type": "boolean | undefined",
          "required": false,
          "description": "Optionally set to `false` to turn off the automatic filtering and sorting.\nIf `false`, you must conditionally render valid items based on the search query yourself."
        },
        {
          "name": "size",
          "type": "undefined | \"default\" | \"large\"",
          "required": false,
          "description": ""
        },
        {
          "name": "value",
          "type": "string | undefined",
          "required": false,
          "description": "Optional controlled state of the selected command menu item."
        },
        {
          "name": "variant",
          "type": "undefined | \"default\" | \"dark\"",
          "required": false,
          "description": ""
        },
        {
          "name": "vimBindings",
          "type": "boolean | undefined",
          "required": false,
          "description": "Set to `false` to disable ctrl+n/j/p/k shortcuts. Defaults to `true`."
        }
      ]
    },
    {
      "displayName": "useAsRef",
      "description": "",
      "props": []
    },
    {
      "displayName": "useCommandState",
      "description": "Run a selector against the store state.",
      "props": []
    },
    {
      "displayName": "useScheduleLayoutEffect",
      "description": "Âú®‰∏ã‰∏Ä‰∏™ layout effect Âë®ÊúüÂÜÖ‰ª•ÂëΩ‰ª§ÂºèÊñπÂºèËøêË°åÂáΩÊï∞„ÄÇ",
      "props": []
    }
  ],
  "stories": [
    {
      "id": "collections-command--basic",
      "name": "Basic",
      "exportName": "Basic",
      "description": "**Basic Command Menu**\n\nA simple command menu with search functionality and basic items.\nDemonstrates the core structure with input, list, and items.\n\n```tsx\n<Command>\n  <Command.Input placeholder=\"Type a command...\" />\n  <Command.List>\n    <Command.Item>Action 1</Command.Item>\n    <Command.Item>Action 2</Command.Item>\n  </Command.List>\n</Command>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\n\nexport default function App() {\n\n  return (\n    <Command className=\"w-96 overflow-hidden rounded-xl shadow-lg\">\n      <Command.Input placeholder=\"Type a command or search...\" />\n      <Command.List>\n        <Command.Item>Calendar</Command.Item>\n        <Command.Item>Search Emoji</Command.Item>\n        <Command.Item>Calculator</Command.Item>\n        <Command.Item>Settings</Command.Item>\n        <Command.Item>Profile</Command.Item>\n      </Command.List>\n    </Command>\n  )\n\n}"
    },
    {
      "id": "collections-command--with-prefix-and-suffix",
      "name": "With Prefix And Suffix",
      "exportName": "WithPrefixAndSuffix",
      "description": "**With Prefix and Suffix**\n\nShows how to use prefix and suffix elements in a command item.",
      "source": "import { Command } from \"@choice-ui/command\"\n\nexport default function App() {\n\n  return (\n    <Command\n      loop\n      className=\"w-96 overflow-hidden rounded-xl shadow-lg\"\n    >\n      <Command.Input placeholder=\"Search commands...\" />\n      <Command.List>\n        <Command.Item\n          prefixElement={<ColorAlpha />}\n          suffixElement={<Badge className=\"mr-4 bg-transparent\">New</Badge>}\n        >\n          <Command.Value>Photoshop</Command.Value>\n        </Command.Item>\n        <Command.Item prefixElement={<ColorOpacity />}>\n          <Command.Value>Illustrator</Command.Value>\n        </Command.Item>\n        <Command.Item\n          prefixElement={<ColorTypeGradient />}\n          suffixElement={<Badge className=\"mr-4 bg-transparent\">New</Badge>}\n        >\n          <Command.Value>Lightroom</Command.Value>\n        </Command.Item>\n        <Command.Item\n          prefixElement={<ColorTypeSolid />}\n          suffixElement={<Badge className=\"mr-4 bg-transparent\">New</Badge>}\n        >\n          <Command.Value>InDesign</Command.Value>\n        </Command.Item>\n      </Command.List>\n    </Command>\n  )\n\n}"
    },
    {
      "id": "collections-command--with-shortcut",
      "name": "With Shortcut",
      "exportName": "WithShortcut",
      "description": "**With Shortcut**\n\nShows how to use a shortcut in a command item.\n\n```tsx\n<Command.Item shortcut={{ keys: \"F\", modifier: \"command\" }}>\n  <Command.Value>Photoshop</Command.Value>\n</Command.Item>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\n\nexport default function App() {\n\n  return (\n    <Command\n      loop\n      className=\"w-96 overflow-hidden rounded-xl shadow-lg\"\n    >\n      <Command.Input placeholder=\"Search commands...\" />\n      <Command.List>\n        <Command.Item\n          prefixElement={<ColorAlpha />}\n          shortcut={{ keys: \"P\", modifier: \"command\" }}\n        >\n          <Command.Value>Photoshop</Command.Value>\n        </Command.Item>\n        <Command.Item\n          prefixElement={<ColorOpacity />}\n          shortcut={{ keys: \"I\", modifier: \"command\" }}\n        >\n          <Command.Value>Illustrator</Command.Value>\n        </Command.Item>\n        <Command.Item\n          prefixElement={<ColorTypeGradient />}\n          shortcut={{ keys: \"L\", modifier: \"command\" }}\n        >\n          <Command.Value>Lightroom</Command.Value>\n        </Command.Item>\n        <Command.Item\n          prefixElement={<ColorTypeSolid />}\n          shortcut={{ keys: \"D\", modifier: \"command\" }}\n        >\n          <Command.Value>InDesign</Command.Value>\n        </Command.Item>\n      </Command.List>\n    </Command>\n  )\n\n}"
    },
    {
      "id": "collections-command--with-groups",
      "name": "With Groups",
      "exportName": "WithGroups",
      "description": "**Grouped Commands**\n\nOrganizes commands into logical groups with headings and separators.\nPerfect for categorizing different types of actions or content.",
      "source": "import { Command } from \"@choice-ui/command\"\n\nexport default function App() {\n  return (\n\n    <Command className=\"w-96 overflow-hidden rounded-xl shadow-lg\">\n      <Command.Input placeholder=\"Search commands...\" />\n      <Command.List>\n        <Command.Group heading=\"Suggestions\">\n          <Command.Item\n            prefixElement={\n              <div className=\"flex size-5 items-center justify-center rounded-md bg-red-300 text-red-700\">\n                <SearchSmall />\n              </div>\n            }\n          >\n            <Command.Value>Search</Command.Value>\n          </Command.Item>\n          <Command.Item\n            prefixElement={\n              <div className=\"flex size-5 items-center justify-center rounded-md bg-blue-300 text-blue-700\">\n                <File />\n              </div>\n            }\n          >\n            <Command.Value>New File</Command.Value>\n          </Command.Item>\n        </Command.Group>\n\n        <Command.Group heading=\"Settings\">\n          <Command.Item\n            prefixElement={\n              <div className=\"flex size-5 items-center justify-center rounded-md bg-green-300 text-green-700\">\n                <UserSmall />\n              </div>\n            }\n          >\n            <Command.Value>Profile</Command.Value>\n          </Command.Item>\n          <Command.Item\n            prefixElement={\n              <div className=\"flex size-5 items-center justify-center rounded-md bg-yellow-300 text-yellow-700\">\n                <Settings />\n              </div>\n            }\n          >\n            <Command.Value>Settings</Command.Value>\n          </Command.Item>\n        </Command.Group>\n\n        <Command.Group heading=\"Files\">\n          <Command.Item\n            prefixElement={\n              <div className=\"flex size-5 items-center justify-center rounded-md bg-purple-300 text-purple-700\">\n                <Folder />\n              </div>\n            }\n          >\n            <Command.Value>Documents</Command.Value>\n          </Command.Item>\n          <Command.Item\n            prefixElement={\n              <div className=\"flex size-5 items-center justify-center rounded-md bg-pink-300 text-pink-700\">\n                <Folder />\n              </div>\n            }\n          >\n            <Command.Value>Downloads</Command.Value>\n          </Command.Item>\n        </Command.Group>\n      </Command.List>\n    </Command>\n\n  );\n}"
    },
    {
      "id": "collections-command--large",
      "name": "Large",
      "exportName": "Large",
      "description": "",
      "source": "import { Command } from \"@choice-ui/command\"\n\nexport default function App() {\n  return (\n\n    <Command\n      loop\n      size=\"large\"\n      className=\"w-xl overflow-hidden rounded-xl shadow-lg\"\n    >\n      <Command.Input\n        variant=\"reset\"\n        className=\"mx-0 mb-0 rounded-none\"\n        placeholder=\"Search commands...\"\n      />\n      <Command.Divider alwaysRender />\n      <Command.List className=\"h-64\">\n        <Command.Empty>\n          <div className=\"py-6 text-center\">\n            <p>No results found.</p>\n            <p className=\"text-secondary-foreground mt-1\">Try adjusting your search terms.</p>\n          </div>\n        </Command.Empty>\n        <Command.Group heading=\"Suggestions\">\n          <Command.Item\n            prefixElement={\n              <div className=\"flex size-5 items-center justify-center rounded-md bg-red-300 text-red-700\">\n                <SearchSmall />\n              </div>\n            }\n            shortcut={{ keys: \"F\", modifier: \"command\" }}\n          >\n            <Command.Value>Search</Command.Value>\n          </Command.Item>\n          <Command.Item\n            prefixElement={\n              <div className=\"flex size-5 items-center justify-center rounded-md bg-blue-300 text-blue-700\">\n                <File />\n              </div>\n            }\n            shortcut={{ keys: \"N\", modifier: \"command\" }}\n          >\n            <Command.Value>New File</Command.Value>\n          </Command.Item>\n        </Command.Group>\n\n        <Command.Group heading=\"Settings\">\n          <Command.Item>\n            <Command.Value>Profile</Command.Value>\n          </Command.Item>\n          <Command.Item>\n            <Command.Value>Settings</Command.Value>\n          </Command.Item>\n        </Command.Group>\n      </Command.List>\n    </Command>\n\n  );\n}"
    },
    {
      "id": "collections-command--with-empty-state",
      "name": "With Empty State",
      "exportName": "WithEmptyState",
      "description": "**With Empty State**\n\nShows an empty state when no results match the search query.\nEssential for providing user feedback during search operations.\n\n```tsx\n<Command>\n  <Command.Input />\n  <Command.List>\n    <Command.Empty>No results found.</Command.Empty>\n    <Command.Item>...</Command.Item>\n  </Command.List>\n</Command>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\n\nexport default function App() {\n  return (\n\n    <Command className=\"w-96 overflow-hidden rounded-xl shadow-lg\">\n      <Command.Input placeholder=\"Try searching for 'xyz'...\" />\n      <Command.List className=\"h-48\">\n        <Command.Empty>\n          <SearchSmall className=\"mx-auto mb-2 h-8 w-8\" />\n          <p>No results found.</p>\n          <p className=\"mt-1\">Try adjusting your search terms.</p>\n        </Command.Empty>\n        <Command.Group heading=\"Quick Actions\">\n          <Command.Item>Create New File</Command.Item>\n          <Command.Item>Open Settings</Command.Item>\n          <Command.Item>View Profile</Command.Item>\n        </Command.Group>\n      </Command.List>\n    </Command>\n\n  );\n}"
    },
    {
      "id": "collections-command--dialog-mode",
      "name": "Dialog Mode",
      "exportName": "DialogMode",
      "description": "",
      "source": "import { Command } from \"@choice-ui/command\"\nimport { useState, useEffect, useRef } from \"react\"\n\nexport default function App() {\n\n  const commandRef = useRef<HTMLDivElement>(null)\n  const inputRef = useRef<HTMLInputElement>(null)\n  const [open, setOpen] = useState(false)\n  const [selected, setSelected] = useState(\"\")\n  const [entered, setEntered] = useState(\"\")\n\n  useEffect(() => {\n    if (open) {\n      setTimeout(() => {\n        inputRef.current?.focus()\n      }, 200)\n    }\n  }, [open])\n\n  useEffect(() => {\n    const down = (e: KeyboardEvent) => {\n      if (e.key === \"k\" && (e.metaKey || e.ctrlKey)) {\n        e.preventDefault()\n        setOpen((open) => !open)\n      }\n    }\n\n    document.addEventListener(\"keydown\", down)\n    return () => document.removeEventListener(\"keydown\", down)\n  }, [])\n\n  useEffect(() => {\n    if (entered) {\n      setOpen(false)\n    }\n  }, [entered])\n\n  return (\n    <div>\n      <Button\n        onClick={() => setOpen(true)}\n        variant=\"secondary\"\n      >\n        {commandOptions\n          .find((group) => group.items.some((item) => item.value === entered))\n          ?.items.find((item) => item.value === entered)?.label || \"Open Command Palette\"}\n        <Kbd keys=\"command\">K</Kbd>\n      </Button>\n\n      <Dialog\n        open={open}\n        onOpenChange={setOpen}\n        outsidePress={true}\n        className=\"overflow-hidden\"\n        transitionStylesProps={{\n          duration: 200,\n        }}\n      >\n        <Dialog.Content className=\"w-xl overflow-hidden\">\n          <Command\n            loop\n            size=\"large\"\n            ref={commandRef}\n            value={selected}\n            onChange={setSelected}\n          >\n            <Command.Input\n              ref={inputRef}\n              variant=\"reset\"\n              className=\"mx-0 mb-0 rounded-none\"\n              placeholder=\"Search commands...\"\n            />\n            <Command.Divider alwaysRender />\n            <Command.List className=\"h-64\">\n              <Command.Empty>\n                <p>No results found.</p>\n                <p className=\"mt-1\">Try adjusting your search terms.</p>\n              </Command.Empty>\n              {commandOptions.map((group, index) => (\n                <Command.Group\n                  key={`${group.label}-${index}`}\n                  heading={group.label}\n                >\n                  {group.items.map((item, index) => (\n                    <Command.Item\n                      key={`${item.value}-${index}`}\n                      value={item.value}\n                      onSelect={() => {\n                        setSelected(item.value)\n                        setEntered(item.value)\n                      }}\n                      prefixElement={\n                        <Avatar\n                          photo={item.icon}\n                          name={item.label}\n                        />\n                      }\n                    >\n                      <Command.Value>{item.label}</Command.Value>\n                    </Command.Item>\n                  ))}\n                </Command.Group>\n              ))}\n            </Command.List>\n          </Command>\n        </Dialog.Content>\n      </Dialog>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--dark-mode",
      "name": "Dark Mode",
      "exportName": "DarkMode",
      "description": "",
      "source": "import { Command } from \"@choice-ui/command\"\n\nexport default function App() {\n\n  return (\n    <Command\n      loop\n      variant=\"dark\"\n      className=\"w-96 overflow-hidden rounded-xl shadow-lg\"\n    >\n      <Command.Input placeholder=\"Search commands...\" />\n\n      <Command.List>\n        <Command.Empty>\n          <p>No results found.</p>\n          <p className=\"mt-1\">Try adjusting your search terms.</p>\n        </Command.Empty>\n\n        <Command.Group heading=\"Files\">\n          <Command.Item\n            prefixElement={<ColorAlpha />}\n            suffixElement={<Badge className=\"mr-4 bg-transparent\">New</Badge>}\n          >\n            <Command.Value>Photoshop</Command.Value>\n          </Command.Item>\n          <Command.Item prefixElement={<ColorOpacity />}>\n            <Command.Value>Illustrator</Command.Value>\n          </Command.Item>\n          <Command.Item\n            prefixElement={<ColorTypeGradient />}\n            suffixElement={<Badge className=\"mr-4 bg-transparent\">New</Badge>}\n          >\n            <Command.Value>Lightroom</Command.Value>\n          </Command.Item>\n          <Command.Item\n            prefixElement={<ColorTypeSolid />}\n            suffixElement={<Badge className=\"mr-4 bg-transparent\">New</Badge>}\n          >\n            <Command.Value>InDesign</Command.Value>\n          </Command.Item>\n        </Command.Group>\n      </Command.List>\n    </Command>\n  )\n\n}"
    },
    {
      "id": "collections-command--disabled-command",
      "name": "Disabled Command",
      "exportName": "DisabledCommand",
      "description": "**Disabled Command**\n\nShows a disabled command with a disabled item.\nUseful for providing user feedback during search operations.\n\n```tsx\n<Command>\n  <Command.Input />\n  <Command.List>\n    <Command.Item disabled>...</Command.Item>\n  </Command.List>\n</Command>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\n\nexport default function App() {\n\n  return (\n    <Command className=\"w-96 overflow-hidden rounded-xl shadow-lg\">\n      <Command.Input placeholder=\"Search commands...\" />\n      <Command.List className=\"h-48\">\n        <Command.Group heading=\"Quick Actions\">\n          <Command.Item>Create New File</Command.Item>\n          <Command.Item>Open Settings</Command.Item>\n          <Command.Item disabled>View Profile (Disabled)</Command.Item>\n        </Command.Group>\n      </Command.List>\n    </Command>\n  )\n\n}"
    },
    {
      "id": "collections-command--controlled-state",
      "name": "Controlled State",
      "exportName": "ControlledState",
      "description": "**Controlled State**\n\nDemonstrates controlled command state with external value management.\nUseful for programmatic control and integration with other components.\n\n```tsx\nconst [value, setValue] = useState(\"\")\n\n<Command value={value} onChange={setValue}>\n  <Command.Input />\n  <Command.List>\n    <Command.Item value=\"item1\">Item 1</Command.Item>\n  </Command.List>\n</Command>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState(\"profile\")\n  const [search, setSearch] = useState(\"\")\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"\">\n        <p>\n          <strong>Selected:</strong> {value || \"None\"}\n        </p>\n        <p>\n          <strong>Search:</strong> {search || \"None\"}\n        </p>\n      </div>\n\n      <Command\n        value={value}\n        onChange={setValue}\n        className=\"w-96 overflow-hidden rounded-xl shadow-lg\"\n      >\n        <Command.Input\n          placeholder=\"Search commands...\"\n          value={search}\n          onChange={setSearch}\n        />\n        <Command.List>\n          <Command.Empty>No results found.</Command.Empty>\n          <Command.Group heading=\"Account\">\n            <Command.Item value=\"profile\">\n              <UserSmall className=\"mr-2 h-4 w-4\" />\n              <span>Profile</span>\n            </Command.Item>\n            <Command.Item value=\"settings\">\n              <Settings className=\"mr-2 h-4 w-4\" />\n              <span>Settings</span>\n            </Command.Item>\n          </Command.Group>\n          <Command.Group heading=\"Actions\">\n            <Command.Item value=\"search\">\n              <SearchSmall className=\"mr-2 h-4 w-4\" />\n              <span>Search</span>\n            </Command.Item>\n            <Command.Item value=\"files\">\n              <File className=\"mr-2 h-4 w-4\" />\n              <span>Files</span>\n            </Command.Item>\n          </Command.Group>\n        </Command.List>\n      </Command>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--with-custom-filtering",
      "name": "With Custom Filtering",
      "exportName": "WithCustomFiltering",
      "description": "**With Custom Filtering**\n\nShows custom filtering logic and disabled filtering for manual control.\nUseful when you need to implement custom search algorithms or server-side filtering.\n\n```tsx\nconst customFilter = (value, search) => {\n  return search.length > 0 ? value.toLowerCase().includes(search.toLowerCase()) ? 1 : 0 : 1\n}\n\n<Command filter={customFilter}>\n  <Command.Input />\n  <Command.List>...</Command.List>\n</Command>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [search, setSearch] = useState(\"\")\n\n  // Custom filter that prioritizes exact matches\n  const customFilter = (value: string, search: string) => {\n    if (!search) return 1\n    const normalizedValue = value.toLowerCase()\n    const normalizedSearch = search.toLowerCase()\n\n    if (normalizedValue === normalizedSearch) return 1\n    if (normalizedValue.startsWith(normalizedSearch)) return 0.9\n    if (normalizedValue.includes(normalizedSearch)) return 0.7\n    return 0\n  }\n\n  const items = [\n    { value: \"search\", label: \"Search\", icon: SearchSmall },\n    { value: \"settings\", label: \"Settings\", icon: Settings },\n    { value: \"user\", label: \"User Profile\", icon: UserSmall },\n    { value: \"file\", label: \"File Manager\", icon: File },\n    { value: \"folder\", label: \"Folder Structure\", icon: Folder },\n  ]\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"\">\n        <p>\n          <strong>Custom Filter:</strong> Prioritizes exact matches, then prefix matches\n        </p>\n        <p>\n          <strong>Current Search:</strong> &quot;{search}&quot;\n        </p>\n      </div>\n\n      <Command\n        filter={customFilter}\n        className=\"w-96 overflow-hidden rounded-xl shadow-lg\"\n      >\n        <Command.Input\n          placeholder=\"Try 'user' or 'set'...\"\n          value={search}\n          onChange={setSearch}\n        />\n        <Command.List>\n          <Command.Empty>No matches found.</Command.Empty>\n          <Command.Group heading=\"Actions\">\n            {items.map((item) => (\n              <Command.Item\n                key={item.value}\n                value={item.label}\n                prefixElement={<item.icon />}\n                suffixElement={\n                  <span className=\"text-secondary-foreground mr-1\">{item.value}</span>\n                }\n              >\n                <Command.Value>{item.label}</Command.Value>\n              </Command.Item>\n            ))}\n          </Command.Group>\n        </Command.List>\n      </Command>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--keyboard-navigation",
      "name": "Keyboard Navigation",
      "exportName": "KeyboardNavigation",
      "description": "**Interactive Keyboard Navigation**\n\nA comprehensive demonstration of cmdk's keyboard navigation system with real-time feedback.\nThis interactive story shows all keyboard shortcuts and provides visual feedback for each action.\n\n**Complete Keyboard System:**\n- **Basic Navigation**: ‚Üë‚Üì arrow keys for item navigation\n- **Vim Bindings**: Ctrl+J/K/N/P for vim-style navigation (toggleable)\n- **Group Navigation**: Alt+‚Üë‚Üì for jumping between groups\n- **Quick Jump**: Home/End for first/last item\n- **Meta Shortcuts**: Cmd+‚Üë‚Üì (Mac) for instant first/last\n- **Selection**: Enter to select items\n- **IME Support**: Proper handling of CJK input methods\n- **Loop Navigation**: Optional circular navigation at boundaries\n\n```tsx\n<Command vimBindings={true} loop={true}>\n  <Command.Input />\n  <Command.List>\n    <Command.Group heading=\"Files\">\n      <Command.Item>New File</Command.Item>\n    </Command.Group>\n  </Command.List>\n</Command>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [vimBindings, setVimBindings] = useState(true)\n  const [loop, setLoop] = useState(true)\n  const [selectedValue, setSelectedValue] = useState(\"\")\n  const [lastAction, setLastAction] = useState<{\n    action: string\n    key: string\n    timestamp: string\n  } | null>(null)\n  const [keyLog, setKeyLog] = useState<\n    Array<{\n      action: string\n      key: string\n      timestamp: string\n    }>\n  >([])\n\n  const logKeyAction = (key: string, action: string) => {\n    const timestamp = new Date().toLocaleTimeString()\n    setLastAction({ action, key, timestamp })\n    setKeyLog((prev) => [...prev.slice(-5), { key, action, timestamp }])\n  }\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    // Log different types of key actions\n    switch (e.key) {\n      case \"ArrowDown\":\n        if (e.metaKey) logKeyAction(\"Cmd+‚Üì\", \"Jump to last item\")\n        else if (e.altKey) logKeyAction(\"Alt+‚Üì\", \"Next group\")\n        else logKeyAction(\"‚Üì\", \"Next item\")\n        break\n      case \"ArrowUp\":\n        if (e.metaKey) logKeyAction(\"Cmd+‚Üë\", \"Jump to first item\")\n        else if (e.altKey) logKeyAction(\"Alt+‚Üë\", \"Previous group\")\n        else logKeyAction(\"‚Üë\", \"Previous item\")\n        break\n      case \"j\":\n        if (vimBindings && e.ctrlKey) logKeyAction(\"Ctrl+J\", \"Vim: Next item\")\n        break\n      case \"k\":\n        if (vimBindings && e.ctrlKey) logKeyAction(\"Ctrl+K\", \"Vim: Previous item\")\n        break\n      case \"n\":\n        if (vimBindings && e.ctrlKey) logKeyAction(\"Ctrl+N\", \"Vim: Next item\")\n        break\n      case \"p\":\n        if (vimBindings && e.ctrlKey) logKeyAction(\"Ctrl+P\", \"Vim: Previous item\")\n        break\n      case \"Home\":\n        logKeyAction(\"Home\", \"Jump to first item\")\n        break\n      case \"End\":\n        logKeyAction(\"End\", \"Jump to last item\")\n        break\n      case \"Enter\":\n        logKeyAction(\"Enter\", `Select: ${selectedValue}`)\n        break\n    }\n  }\n\n  return (\n    <div className=\"w-96 space-y-6\">\n      {/* Control Panel */}\n      <div className=\"flex flex-wrap gap-4 rounded-xl border p-4\">\n        <Checkbox\n          value={vimBindings}\n          onChange={(v) => setVimBindings(v)}\n        >\n          Enable Vim Bindings (Ctrl+J/K/N/P)\n        </Checkbox>\n        <Checkbox\n          value={loop}\n          onChange={(v) => setLoop(v)}\n        >\n          Enable Loop Navigation\n        </Checkbox>\n      </div>\n\n      {/* Keyboard Shortcuts Reference */}\n      <div className=\"rounded-xl border p-4\">\n        <h3 className=\"font-strong mb-3\">‚å®Ô∏è Complete Keyboard Shortcuts Reference</h3>\n        <div className=\"flex flex-col gap-4\">\n          <div>\n            <h4 className=\"font-strong mb-2\">Basic Navigation</h4>\n            <div className=\"space-y-1\">\n              <div className=\"flex justify-between\">\n                <div className=\"flex gap-1\">\n                  <Kbd keys=\"up\" />\n                  <Kbd keys=\"down\" />\n                </div>\n                <span>Navigate items</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <Kbd keys=\"enter\" />\n                <span>Select item</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <Kbd>Home</Kbd>\n                <span>First item</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <Kbd>End</Kbd>\n                <span>Last item</span>\n              </div>\n            </div>\n          </div>\n\n          <div>\n            <h4 className=\"text-secondary-foreground font-strong mb-2\">Vim Bindings</h4>\n            <div className=\"space-y-1\">\n              <div className=\"flex justify-between\">\n                <Kbd keys={[\"ctrl\"]}>J</Kbd>\n                <span>Next item</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <Kbd keys={[\"ctrl\"]}>K</Kbd>\n                <span>Previous item</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <Kbd keys={[\"ctrl\"]}>N</Kbd>\n                <span>Next item</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <Kbd keys={[\"ctrl\"]}>P</Kbd>\n                <span>Previous item</span>\n              </div>\n            </div>\n            {!vimBindings && <div className=\"mt-1 text-orange-600\">‚ö†Ô∏è Vim bindings disabled</div>}\n          </div>\n\n          <div>\n            <h4 className=\"font-strong mb-2 text-purple-600\">Advanced</h4>\n            <div className=\"space-y-1\">\n              <div className=\"flex justify-between\">\n                <div className=\"flex gap-1\">\n                  <Kbd keys={[\"alt\", \"up\"]} />\n                  <Kbd keys={[\"alt\", \"down\"]} />\n                </div>\n                <span>Group navigation</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <div className=\"flex gap-1\">\n                  <Kbd keys={[\"command\", \"up\"]} />\n                  <Kbd keys={[\"command\", \"down\"]} />\n                </div>\n                <span>First/Last (Mac)</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-secondary-foreground\">Loop:</span>\n                <span className={loop ? \"text-secondary-foreground\" : \"text-orange-600\"}>\n                  {loop ? \"Enabled\" : \"Disabled\"}\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Interactive Command Component */}\n\n      <Command\n        className=\"w-96 overflow-hidden rounded-xl shadow-lg\"\n        vimBindings={vimBindings}\n        loop={loop}\n        value={selectedValue}\n        onChange={setSelectedValue}\n        onKeyDown={handleKeyDown}\n      >\n        <Command.Input placeholder=\"üéØ Focus here and try the keyboard shortcuts above...\" />\n        <Command.List className=\"h-64\">\n          <Command.Empty>No results found.</Command.Empty>\n\n          <Command.Group heading=\"File Operations\">\n            <Command.Item value=\"new-file\">\n              <File className=\"mr-2 h-4 w-4\" />\n              <span>New File</span>\n              <Kbd\n                keys=\"command\"\n                className=\"text-secondary-foreground ml-auto\"\n              >\n                N\n              </Kbd>\n            </Command.Item>\n            <Command.Item value=\"open-file\">\n              <File className=\"mr-2 h-4 w-4\" />\n              <span>Open File</span>\n              <Kbd\n                keys=\"command\"\n                className=\"text-secondary-foreground ml-auto\"\n              >\n                O\n              </Kbd>\n            </Command.Item>\n            <Command.Item value=\"save-file\">\n              <File className=\"mr-2 h-4 w-4\" />\n              <span>Save File</span>\n              <Kbd\n                keys=\"command\"\n                className=\"text-secondary-foreground ml-auto\"\n              >\n                S\n              </Kbd>\n            </Command.Item>\n          </Command.Group>\n\n          <Command.Group heading=\"Search & Navigation\">\n            <Command.Item value=\"search-files\">\n              <SearchSmall className=\"mr-2 h-4 w-4\" />\n              <span>Search Files</span>\n              <Kbd\n                keys=\"command\"\n                className=\"text-secondary-foreground ml-auto\"\n              >\n                F\n              </Kbd>\n            </Command.Item>\n            <Command.Item value=\"go-to-line\">\n              <SearchSmall className=\"mr-2 h-4 w-4\" />\n              <span>Go to Line</span>\n              <Kbd\n                keys=\"ctrl\"\n                className=\"text-secondary-foreground ml-auto\"\n              >\n                G\n              </Kbd>\n            </Command.Item>\n            <Command.Item value=\"find-replace\">\n              <SearchSmall className=\"mr-2 h-4 w-4\" />\n              <span>Find & Replace</span>\n              <Kbd\n                keys=\"command\"\n                className=\"text-secondary-foreground ml-auto\"\n              >\n                H\n              </Kbd>\n            </Command.Item>\n          </Command.Group>\n\n          <Command.Group heading=\"User & Settings\">\n            <Command.Item value=\"user-profile\">\n              <UserSmall className=\"mr-2 h-4 w-4\" />\n              <span>User Profile</span>\n            </Command.Item>\n            <Command.Item value=\"preferences\">\n              <Settings className=\"mr-2 h-4 w-4\" />\n              <span>Preferences</span>\n              <Kbd\n                keys=\"command\"\n                className=\"text-secondary-foreground ml-auto\"\n              >\n                ,\n              </Kbd>\n            </Command.Item>\n            <Command.Item value=\"shortcuts\">\n              <Settings className=\"mr-2 h-4 w-4\" />\n              <span>Keyboard Shortcuts</span>\n              <Kbd\n                keys=\"command\"\n                className=\"text-secondary-foreground ml-auto\"\n              >\n                K\n              </Kbd>\n            </Command.Item>\n          </Command.Group>\n\n          <Command.Group heading=\"Appearance\">\n            <Command.Item value=\"theme-light\">\n              <Settings className=\"mr-2 h-4 w-4\" />\n              <span>Light Theme</span>\n            </Command.Item>\n            <Command.Item value=\"theme-dark\">\n              <Settings className=\"mr-2 h-4 w-4\" />\n              <span>Dark Theme</span>\n            </Command.Item>\n            <Command.Item value=\"theme-auto\">\n              <Settings className=\"mr-2 h-4 w-4\" />\n              <span>Auto Theme</span>\n            </Command.Item>\n          </Command.Group>\n        </Command.List>\n\n        <Command.Footer>\n          <div className=\"text-secondary-foreground flex items-center justify-between\">\n            <span>\n              Selected: <strong>{selectedValue || \"None\"}</strong>\n            </span>\n            <span>Try all keyboard shortcuts above! üéπ</span>\n          </div>\n        </Command.Footer>\n      </Command>\n\n      {/* Usage Tips */}\n      <div className=\"rounded-lg border bg-blue-50 p-4\">\n        <h4 className=\"font-strong mb-2 text-blue-800\">üí° Pro Tips:</h4>\n        <ul className=\"space-y-1 text-blue-700\">\n          <li>\n            ‚Ä¢ <strong>Focus the input first</strong> - Click in the search box to activate\n            keyboard navigation\n          </li>\n          <li>\n            ‚Ä¢ <strong>Group navigation</strong> - Use Alt+‚Üë‚Üì to quickly jump between different\n            sections\n          </li>\n          <li>\n            ‚Ä¢ <strong>Vim users</strong> - Toggle vim bindings to use familiar Ctrl+J/K/N/P\n            shortcuts\n          </li>\n          <li>\n            ‚Ä¢ <strong>Loop navigation</strong> - When enabled, pressing ‚Üë at the top goes to the\n            bottom\n          </li>\n          <li>\n            ‚Ä¢ <strong>IME support</strong> - CJK input methods are properly handled without\n            triggering shortcuts\n          </li>\n          <li>\n            ‚Ä¢ <strong>Visual feedback</strong> - Watch the activity monitor to see which shortcuts\n            are triggered\n          </li>\n        </ul>\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--large-dataset",
      "name": "Large Dataset",
      "exportName": "LargeDataset",
      "description": "**Large Dataset**\n\nPerformance test with a large number of items to demonstrate\nefficient rendering and search capabilities.\n\n```tsx\n<Command>\n  <Command.Input />\n  <Command.List>\n    {largeItemList.map(item => (\n      <Command.Item key={item.id} value={item.name}>\n        {item.name}\n      </Command.Item>\n    ))}\n  </Command.List>\n</Command>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\n\nexport default function App() {\n\n  // Generate a large dataset\n  const items = Array.from({ length: 100 }, (_, i) => ({\n    id: i,\n    name: `Item ${i + 1}`,\n    category: i < 33 ? \"Files\" : i < 66 ? \"Actions\" : \"Settings\",\n    description: `Description for item ${i + 1}`,\n  }))\n\n  const categories = [\"Files\", \"Actions\", \"Settings\"]\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"\">\n        <p>\n          <strong>Dataset Size:</strong> {items.length} items across {categories.length}{\" \"}\n          categories\n        </p>\n        <p>\n          <strong>Performance:</strong> Try searching to see fast filtering in action\n        </p>\n      </div>\n\n      <Command className=\"w-96 overflow-hidden rounded-xl shadow-lg\">\n        <Command.Input placeholder=\"Search 100 items...\" />\n        <Command.List className=\"max-h-64\">\n          <Command.Empty>No results found in {items.length} items.</Command.Empty>\n          {categories.map((category) => (\n            <Command.Group\n              key={category}\n              heading={category}\n            >\n              {items\n                .filter((item) => item.category === category)\n                .map((item) => (\n                  <Command.Item\n                    key={item.id}\n                    value={`${item.name} ${item.description}`}\n                  >\n                    <div className=\"flex flex-col items-start\">\n                      <span>{item.name}</span>\n                      <span className=\"text-secondary-foreground\">{item.description}</span>\n                    </div>\n                  </Command.Item>\n                ))}\n            </Command.Group>\n          ))}\n        </Command.List>\n      </Command>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--complex-items",
      "name": "Complex Items",
      "exportName": "ComplexItems",
      "description": "**Complex Items**\n\nDemonstrates rich item content with metadata, badges, and custom layouts.\nPerfect for file browsers, user selectors, or detailed action lists.\n\n```tsx\n<Command.Item value=\"complex-item\">\n  <div className=\"flex items-center justify-between w-full\">\n    <div className=\"flex items-center\">\n      <Icon />\n      <div>\n        <div>Title</div>\n        <div className=\" text-secondary-foreground\">Subtitle</div>\n      </div>\n    </div>\n    <Badge>New</Badge>\n  </div>\n</Command.Item>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\n\nexport default function App() {\n\n  const commandOptions = [\n    {\n      label: \"Recent Files\",\n      group: [\n        {\n          label: \"Project\",\n          value: \"project-readme\",\n          description: \"Modified 2 hours ago ‚Ä¢ 1.2 KB\",\n          prefixElement: <File />,\n          suffixElement: <Badge>MD</Badge>,\n        },\n        {\n          label: \"Config\",\n          value: \"config-file\",\n          description: \"Modified yesterday ‚Ä¢ 0.8 KB\",\n          prefixElement: <Settings />,\n        },\n        {\n          label: \"README\",\n          value: \"readme-file\",\n          description: \"Modified 2 hours ago ‚Ä¢ 1.2 KB\",\n          prefixElement: <File />,\n          suffixElement: <Badge>MD</Badge>,\n        },\n      ],\n    },\n    {\n      label: \"Team Members\",\n      group: [\n        {\n          label: \"John Doe\",\n          value: \"john-doe\",\n          description: \"Senior Developer ‚Ä¢ Online\",\n          prefixElement: <UserSmall />,\n          suffixElement: <Badge>Online</Badge>,\n        },\n        {\n          label: \"Jane Smith\",\n          value: \"jane-smith\",\n          description: \"UI/UX Designer ‚Ä¢ Away\",\n          prefixElement: <UserSmall />,\n          suffixElement: <Badge>Away</Badge>,\n        },\n      ],\n    },\n  ]\n  return (\n    <Command className=\"w-96 overflow-hidden rounded-xl shadow-lg\">\n      <Command.Input placeholder=\"Search files and users...\" />\n      <Command.List>\n        <Command.Empty>No results found.</Command.Empty>\n        {commandOptions.map((option) => (\n          <Command.Group\n            key={option.label}\n            heading={option.label}\n          >\n            {option.group.map((item) => (\n              <Command.Item\n                key={item.value}\n                value={item.value}\n              >\n                <div className=\"flex flex-1 flex-col gap-1\">\n                  <div className=\"flex items-center gap-1\">\n                    {item.prefixElement}\n                    <div className=\"flex-1\">{item.label}</div>\n                    {item.suffixElement}\n                  </div>\n                  <div className=\"text-secondary-foreground\">{item.description}</div>\n                </div>\n              </Command.Item>\n            ))}\n          </Command.Group>\n        ))}\n      </Command.List>\n    </Command>\n  )\n\n}"
    },
    {
      "id": "collections-command--with-footer",
      "name": "With Footer",
      "exportName": "WithFooter",
      "description": "**With Footer**\n\nDemonstrates the Command.Footer component for displaying additional\ninformation, shortcuts, or action hints at the bottom of the command menu.\n\n```tsx\n<Command>\n  <Command.Input />\n  <Command.List>...</Command.List>\n  <Command.Footer>\n    Press ‚Üµ to select ‚Ä¢ ‚Üë‚Üì to navigate\n  </Command.Footer>\n</Command>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\nimport { useState, useEffect, useRef } from \"react\"\n\nexport default function App() {\n\n  const [open, setOpen] = useState(false)\n  const [selectedCommand, setSelectedCommand] = useState(\"\")\n  const [selectedDropdown, setSelectedDropdown] = useState(\"\")\n  const commandRef = useRef<HTMLDivElement>(null)\n\n  useEffect(() => {\n    if (!open) {\n      commandRef.current?.focus()\n    }\n  }, [open])\n\n  const commandOptions = [\n    {\n      label: \"Actions\",\n      group: [\n        {\n          label: \"New File\",\n          value: \"new-file\",\n        },\n        {\n          label: \"Open Folder\",\n          value: \"open-folder\",\n        },\n        {\n          label: \"Search Files\",\n          value: \"search-files\",\n        },\n      ],\n    },\n    {\n      label: \"Settings\",\n      group: [\n        {\n          label: \"Preferences\",\n          value: \"preferences\",\n        },\n        {\n          label: \"Keyboard Shortcuts\",\n          value: \"keyboard-shortcuts\",\n        },\n        {\n          label: \"Theme\",\n          value: \"theme\",\n        },\n      ],\n    },\n  ]\n\n  const dropdownOptions = [\n    {\n      label: \"Open Application\",\n      value: \"open-application\",\n    },\n    {\n      label: \"Show in Finder\",\n      value: \"show-in-finder\",\n    },\n    {\n      label: \"Show Info in Finder\",\n      value: \"show-info-in-finder\",\n    },\n    {\n      label: \"Add to Favorites\",\n      value: \"add-to-favorites\",\n    },\n  ]\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex flex-col gap-2 rounded-xl border p-4\">\n        <strong className=\"text-secondary-foreground\">Selected:</strong>\n        <div className=\"flex items-center gap-2\">\n          <span>Command: </span>\n          {selectedCommand && (\n            <Badge>\n              <span>{selectedCommand}</span>\n            </Badge>\n          )}\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <span>Dropdown: </span>\n          {selectedDropdown && <Badge>{selectedDropdown}</Badge>}\n        </div>\n      </div>\n\n      <Command\n        ref={commandRef}\n        loop\n        className=\"w-96 overflow-hidden rounded-xl shadow-lg\"\n        onChange={setSelectedCommand}\n        onKeyDown={(e) => {\n          // Handle global Command shortcuts\n          if (e.key === \"k\" && e.metaKey) {\n            e.preventDefault()\n            setOpen((prev) => !prev)\n            return\n          }\n        }}\n      >\n        <Command.Input placeholder=\"Search commands...\" />\n        <Command.List className=\"h-64\">\n          <Command.Empty>No results found.</Command.Empty>\n          {commandOptions.map((option) => (\n            <Command.Group\n              key={option.label}\n              heading={option.label}\n            >\n              {option.group.map((item) => (\n                <Command.Item\n                  key={item.value}\n                  value={item.value}\n                  onSelect={() => setSelectedCommand(item.value)}\n                >\n                  {item.label}\n                </Command.Item>\n              ))}\n            </Command.Group>\n          ))}\n        </Command.List>\n        <Command.Footer>\n          <span className=\"text-secondary-foreground px-2\">Choiceform</span>\n          <Dropdown\n            open={open}\n            onOpenChange={setOpen}\n            placement=\"top-end\"\n          >\n            <Dropdown.Trigger asChild>\n              <Button variant=\"ghost\">\n                Actions{\" \"}\n                <Kbd\n                  keys=\"command\"\n                  className=\"text-secondary-foreground\"\n                >\n                  K\n                </Kbd>\n              </Button>\n            </Dropdown.Trigger>\n            <Dropdown.Content>\n              {dropdownOptions.map((option) => (\n                <Dropdown.Item\n                  key={option.value}\n                  onClick={() => setSelectedDropdown(option.value)}\n                  onKeyDown={(e) => {\n                    if (e.key === \"Enter\") {\n                      setSelectedDropdown(option.value)\n                      setOpen(false)\n                    }\n                  }}\n                >\n                  <Dropdown.Value>{option.label}</Dropdown.Value>\n                </Dropdown.Item>\n              ))}\n            </Dropdown.Content>\n          </Dropdown>\n        </Command.Footer>\n      </Command>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--core-mechanism-store",
      "name": "Core Mechanism Store",
      "exportName": "CoreMechanismStore",
      "description": "**Core Mechanism: Store & State Management**\n\nDemonstrates the centralized state management system that powers cmdk.\nShows how search, selection, and filtering states are managed centrally.\n\n**Key Features:**\n- Centralized state store with subscribe/emit pattern\n- Real-time state synchronization across components\n- Optimized updates with value comparison guards\n- Async scheduling to prevent infinite loops\n\n```tsx\nconst [state, setState] = useCommandState()\n// state: { search, value, selectedItemId, filtered: { count, items, groups } }\n```",
      "source": "import { Command } from \"@choice-ui/command\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [debugInfo, setDebugInfo] = useState({\n    search: \"\",\n    value: \"\",\n    selectedItemId: \"\",\n    filteredCount: 0,\n    filteredItems: new Map(),\n    filteredGroups: new Set(),\n    updateCount: 0,\n  })\n\n  return (\n    <div className=\"w-96 space-y-6\">\n      <div className=\"rounded-lg border p-4\">\n        <h3 className=\"font-strong mb-3\">üèóÔ∏è Internal State Monitor</h3>\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div>\n            <strong>Search Query:</strong> &quot;{debugInfo.search}&quot;\n          </div>\n          <div>\n            <strong>Selected Value:</strong> &quot;{debugInfo.value}&quot;\n          </div>\n          <div>\n            <strong>Filtered Count:</strong> {debugInfo.filteredCount}\n          </div>\n          <div>\n            <strong>Update Count:</strong> {debugInfo.updateCount}\n          </div>\n          <div className=\"col-span-2\">\n            <strong>Visible Groups:</strong> [{Array.from(debugInfo.filteredGroups).join(\", \")}]\n          </div>\n        </div>\n      </div>\n\n      <Command\n        className=\"w-96 overflow-hidden rounded-xl shadow-lg\"\n        onChange={(value) => {\n          setDebugInfo((prev) => ({\n            ...prev,\n            value,\n            updateCount: prev.updateCount + 1,\n          }))\n        }}\n      >\n        <Command.Input\n          placeholder=\"Type to see state changes...\"\n          onChange={(search) => {\n            setDebugInfo((prev) => ({\n              ...prev,\n              search,\n              updateCount: prev.updateCount + 1,\n            }))\n          }}\n        />\n        <Command.List>\n          <Command.Empty>No results found.</Command.Empty>\n          <Command.Group heading=\"Files\">\n            <Command.Item value=\"new-file\">\n              <File className=\"mr-2 h-4 w-4\" />\n              <span>New File</span>\n            </Command.Item>\n            <Command.Item value=\"open-file\">\n              <File className=\"mr-2 h-4 w-4\" />\n              <span>Open File</span>\n            </Command.Item>\n          </Command.Group>\n          <Command.Group heading=\"Actions\">\n            <Command.Item value=\"search-files\">\n              <SearchSmall className=\"mr-2 h-4 w-4\" />\n              <span>Search Files</span>\n            </Command.Item>\n            <Command.Item value=\"settings\">\n              <Settings className=\"mr-2 h-4 w-4\" />\n              <span>Settings</span>\n            </Command.Item>\n          </Command.Group>\n        </Command.List>\n      </Command>\n\n      <div className=\"text-secondary-foreground\">\n        üí° <strong>How it works:</strong> The store uses a centralized state with subscribe/emit\n        pattern. Each component subscribes to state changes and re-renders only when necessary.\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--core-mechanism-value-registration",
      "name": "Core Mechanism Value Registration",
      "exportName": "CoreMechanismValueRegistration",
      "description": "**Core Mechanism: Value Registration System**\n\nShows how items register their values and keywords with the global state.\nDemonstrates the useValue hook's lifecycle and automatic synchronization.\n\n**Key Features:**\n- Automatic value extraction from content or props\n- Real-time registration without dependency arrays\n- Keyword aliases for enhanced search matching\n- DOM attribute synchronization for CSS selectors\n\n```tsx\n// Each item automatically registers its value:\nuseValue(id, ref, [children, value], aliases)\n```",
      "source": "import { Command } from \"@choice-ui/command\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [registrationLog, setRegistrationLog] = useState<\n    Array<{\n      action: string\n      id: string\n      keywords?: string[]\n      timestamp: string\n      value: string\n    }>\n  >([])\n\n  const [itemCount, setItemCount] = useState(3)\n\n  const addLogEntry = (entry: {\n    action: string\n    id: string\n    keywords?: string[]\n    timestamp: string\n    value: string\n  }) => {\n    setRegistrationLog((prev) => [\n      ...prev.slice(-10),\n      {\n        ...entry,\n        timestamp: new Date().toLocaleTimeString(),\n      },\n    ])\n  }\n\n  return (\n    <div className=\"w-96 space-y-6\">\n      <div className=\"rounded-lg border p-4\">\n        <h3 className=\"font-strong mb-3\">üìù Value Registration Log</h3>\n        <div className=\"max-h-32 overflow-y-auto\">\n          {registrationLog.length === 0 ? (\n            <div className=\"text-secondary-foreground\">Start typing to see registrations...</div>\n          ) : (\n            registrationLog.map((entry, i) => (\n              <div\n                key={i}\n                className=\"flex justify-between py-1\"\n              >\n                <span>{entry.timestamp}</span>\n                <span className=\"font-mono\">{entry.action}</span>\n                <span>ID: {entry.id}</span>\n                <span>Value: &quot;{entry.value}&quot;</span>\n                {entry.keywords && <span>Keywords: [{entry.keywords.join(\", \")}]</span>}\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n\n      <div className=\"flex gap-4\">\n        <button\n          onClick={() => setItemCount((prev) => Math.max(1, prev - 1))}\n          className=\"rounded bg-red-100 px-3 py-1 text-red-800\"\n        >\n          Remove Item\n        </button>\n        <button\n          onClick={() => setItemCount((prev) => prev + 1)}\n          className=\"rounded bg-green-100 px-3 py-1\"\n        >\n          Add Item\n        </button>\n        <span className=\"flex items-center\">Items: {itemCount}</span>\n      </div>\n\n      <Command className=\"w-96 overflow-hidden rounded-xl shadow-lg\">\n        <Command.Input placeholder=\"Search to trigger value matching...\" />\n        <Command.List className=\"h-40\">\n          <Command.Empty>No matches found.</Command.Empty>\n          <Command.Group heading=\"Dynamic Items\">\n            {Array.from({ length: itemCount }, (_, i) => (\n              <Command.Item\n                key={i}\n                value={`dynamic-item-${i + 1} item ${i + 1} test`}\n              >\n                <File className=\"mr-2 h-4 w-4\" />\n                <span>Dynamic Item {i + 1}</span>\n                <span className=\"text-secondary-foreground ml-auto\">Keywords: test, item</span>\n              </Command.Item>\n            ))}\n          </Command.Group>\n          <Command.Group heading=\"Aliased Items\">\n            <Command.Item\n              value=\"javascript-file\"\n              keywords={[\"js\", \"script\", \"code\"]}\n            >\n              <File className=\"mr-2 h-4 w-4\" />\n              <span>app.js</span>\n              <span className=\"text-secondary-foreground ml-auto\">Try: js, script</span>\n            </Command.Item>\n            <Command.Item\n              value=\"stylesheet-file\"\n              keywords={[\"css\", \"style\", \"design\"]}\n            >\n              <File className=\"mr-2 h-4 w-4\" />\n              <span>styles.css</span>\n              <span className=\"text-secondary-foreground ml-auto\">Try: css, style</span>\n            </Command.Item>\n          </Command.Group>\n        </Command.List>\n      </Command>\n\n      <div className=\"text-secondary-foreground\">\n        üí° <strong>How it works:</strong> useValue() runs on every render (no deps array) to keep\n        values synchronized. It only triggers updates when values actually change.\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--core-mechanism-async-scheduling",
      "name": "Core Mechanism Async Scheduling",
      "exportName": "CoreMechanismAsyncScheduling",
      "description": "**Core Mechanism: Async Scheduling System**\n\nDemonstrates the scheduling system that prevents infinite loops and optimizes updates.\nShows how operations are batched and prioritized for optimal performance.\n\n**Key Features:**\n- Priority-based task scheduling\n- Batch processing to avoid layout thrashing\n- Async operations to break recursive cycles\n- Layout effect coordination for DOM updates\n\n```tsx\nschedule(1, selectFirstItem)    // High priority\nschedule(5, scrollIntoView)     // Medium priority\nschedule(7, updateSelection)    // Low priority\n```",
      "source": "import { Command } from \"@choice-ui/command\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [operationLog, setOperationLog] = useState<\n    Array<{\n      operation: string\n      priority: number\n      status: \"scheduled\" | \"executing\" | \"completed\"\n      timestamp: string\n    }>\n  >([])\n\n  const simulateScheduledOperation = (priority: number, operation: string) => {\n    const id = Date.now()\n\n    // Add to log as scheduled\n    setOperationLog((prev) => [\n      ...prev.slice(-8),\n      {\n        timestamp: new Date().toLocaleTimeString(),\n        priority,\n        operation,\n        status: \"scheduled\" as const,\n      },\n    ])\n\n    // Simulate async execution\n    setTimeout(() => {\n      setOperationLog((prev) =>\n        prev.map((item) =>\n          item.timestamp === new Date(id).toLocaleTimeString()\n            ? { ...item, status: \"executing\" as const }\n            : item,\n        ),\n      )\n\n      setTimeout(() => {\n        setOperationLog((prev) =>\n          prev.map((item) =>\n            item.timestamp === new Date(id).toLocaleTimeString()\n              ? { ...item, status: \"completed\" as const }\n              : item,\n          ),\n        )\n      }, 100)\n    }, priority * 10) // Higher priority = faster execution\n  }\n\n  return (\n    <div className=\"w-96 space-y-6\">\n      <div className=\"rounded-lg border p-4\">\n        <h3 className=\"font-strong mb-3\">‚ö° Async Operation Scheduler</h3>\n        <div className=\"max-h-40 overflow-y-auto\">\n          {operationLog.length === 0 ? (\n            <div className=\"text-secondary-foreground\">Operations will appear here...</div>\n          ) : (\n            operationLog.map((entry, i) => (\n              <div\n                key={i}\n                className=\"flex items-center justify-between py-1\"\n              >\n                <span>{entry.timestamp}</span>\n                <span className=\"font-mono\">P{entry.priority}</span>\n                <span className=\"flex-1 px-2\">{entry.operation}</span>\n                <span\n                  className={`rounded px-2 py-0.5 ${\n                    entry.status === \"scheduled\"\n                      ? \"bg-yellow-100 text-yellow-800\"\n                      : entry.status === \"executing\"\n                        ? \"bg-blue-100 text-blue-800\"\n                        : \"bg-green-100\"\n                  }`}\n                >\n                  {entry.status}\n                </span>\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n\n      <div className=\"flex flex-wrap gap-2\">\n        <button\n          onClick={() => simulateScheduledOperation(1, \"selectFirstItem()\")}\n          className=\"rounded bg-red-100 px-3 py-1 text-red-800\"\n        >\n          Schedule P1: Select First\n        </button>\n        <button\n          onClick={() => simulateScheduledOperation(3, \"filterItems()\")}\n          className=\"rounded bg-orange-100 px-3 py-1 text-orange-800\"\n        >\n          Schedule P3: Filter Items\n        </button>\n        <button\n          onClick={() => simulateScheduledOperation(5, \"scrollIntoView()\")}\n          className=\"rounded bg-blue-100 px-3 py-1 text-blue-800\"\n        >\n          Schedule P5: Scroll View\n        </button>\n        <button\n          onClick={() => simulateScheduledOperation(7, \"updateSelection()\")}\n          className=\"rounded bg-green-100 px-3 py-1\"\n        >\n          Schedule P7: Update Selection\n        </button>\n      </div>\n\n      <Command className=\"w-96 overflow-hidden rounded-xl shadow-lg\">\n        <Command.Input\n          placeholder=\"Type to trigger real scheduling...\"\n          onChange={() => {\n            simulateScheduledOperation(1, \"Search triggered: selectFirstItem()\")\n            simulateScheduledOperation(2, \"Search triggered: filterItems()\")\n            simulateScheduledOperation(3, \"Search triggered: sort()\")\n          }}\n        />\n        <Command.List className=\"h-40\">\n          <Command.Empty>No results found.</Command.Empty>\n          <Command.Group heading=\"Test Items\">\n            <Command.Item value=\"item-1\">\n              <SearchSmall className=\"mr-2 h-4 w-4\" />\n              <span>Search Item 1</span>\n            </Command.Item>\n            <Command.Item value=\"item-2\">\n              <File className=\"mr-2 h-4 w-4\" />\n              <span>File Item 2</span>\n            </Command.Item>\n            <Command.Item value=\"item-3\">\n              <Settings className=\"mr-2 h-4 w-4\" />\n              <span>Settings Item 3</span>\n            </Command.Item>\n          </Command.Group>\n        </Command.List>\n      </Command>\n\n      <div className=\"text-secondary-foreground\">\n        üí° <strong>How it works:</strong> schedule() queues operations by priority in the next\n        layoutEffect cycle. This prevents synchronous recursion and optimizes DOM updates.\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--core-mechanism-fuzzy-search",
      "name": "Core Mechanism Fuzzy Search",
      "exportName": "CoreMechanismFuzzySearch",
      "description": "**Core Mechanism: Fuzzy Search Algorithm**\n\nShows the sophisticated scoring algorithm that powers cmdk's search functionality.\nDemonstrates how different match types get different scores and priorities.\n\n**Key Features:**\n- Fuzzy matching with smart scoring\n- Prefix matches score higher than substring matches\n- Case-sensitive bonus scoring\n- Keyword alias support\n- Real-time score visualization\n\n```tsx\nconst score = commandScore(value, search, keywords)\n// Returns 0-1 score based on match quality\n```",
      "source": "import { Command } from \"@choice-ui/command\"\nimport { useState, useEffect } from \"react\"\n\nexport default function App() {\n\n  const [search, setSearch] = useState(\"\")\n  const [scores, setScores] = useState<\n    Array<{\n      item: string\n      keywords?: string[]\n      score: number\n      value: string\n    }>\n  >([])\n\n  const testItems = [\n    { value: \"New File\", keywords: [\"create\", \"add\"] },\n    { value: \"Open File\", keywords: [\"load\", \"import\"] },\n    { value: \"Save File\", keywords: [\"export\", \"write\"] },\n    { value: \"Search Files\", keywords: [\"find\", \"locate\"] },\n    { value: \"User Profile\", keywords: [\"account\", \"settings\"] },\n    { value: \"System Settings\", keywords: [\"config\", \"preferences\"] },\n    { value: \"JavaScript File\", keywords: [\"js\", \"script\"] },\n    { value: \"CSS Stylesheet\", keywords: [\"css\", \"style\"] },\n  ]\n\n  // Mock scoring function similar to commandScore\n  const mockScore = (value: string, search: string, keywords: string[] = []) => {\n    if (!search) return 1\n\n    const normalizedValue = value.toLowerCase()\n    const normalizedSearch = search.toLowerCase()\n\n    // Exact match\n    if (normalizedValue === normalizedSearch) return 1.0\n\n    // Prefix match\n    if (normalizedValue.startsWith(normalizedSearch)) return 0.9\n\n    // Word boundary match\n    const words = normalizedValue.split(/\\s+/)\n    for (const word of words) {\n      if (word.startsWith(normalizedSearch)) return 0.8\n    }\n\n    // Keyword match\n    for (const keyword of keywords) {\n      if (keyword.toLowerCase().includes(normalizedSearch)) return 0.7\n    }\n\n    // Substring match\n    if (normalizedValue.includes(normalizedSearch)) return 0.6\n\n    // Fuzzy match (simplified)\n    let fuzzyScore = 0\n    let searchIndex = 0\n    for (let i = 0; i < normalizedValue.length && searchIndex < normalizedSearch.length; i++) {\n      if (normalizedValue[i] === normalizedSearch[searchIndex]) {\n        fuzzyScore += 1 / normalizedValue.length\n        searchIndex++\n      }\n    }\n\n    return searchIndex === normalizedSearch.length ? fuzzyScore * 0.5 : 0\n  }\n\n  React.useEffect(() => {\n    const newScores = testItems\n      .map((item) => ({\n        item: item.value,\n        value: item.value,\n        score: mockScore(item.value, search, item.keywords),\n        keywords: item.keywords,\n      }))\n      .sort((a, b) => b.score - a.score)\n\n    setScores(newScores)\n  }, [search])\n\n  return (\n    <div className=\"w-96 space-y-6\">\n      <div className=\"rounded-xl border p-4\">\n        <h3 className=\"font-strong mb-3\">üîç Search Score Visualization</h3>\n        <div className=\"space-y-2\">\n          <div className=\"flex items-center gap-2\">\n            <span className=\"font-strong\">Search Query:</span>\n            <code className=\"bg-background rounded px-2 py-1\">{search || \"(empty)\"}</code>\n          </div>\n          <div className=\"max-h-48 overflow-y-auto\">\n            {scores.map((item, i) => (\n              <div\n                key={item.item}\n                className=\"flex items-center justify-between py-1\"\n              >\n                <span className=\"flex-1\">{item.item}</span>\n                <div className=\"flex items-center gap-2\">\n                  {item.keywords && (\n                    <span className=\"text-secondary-foreground\">\n                      [{item.keywords.join(\", \")}]\n                    </span>\n                  )}\n                  <div className=\"flex items-center gap-1\">\n                    <div className=\"h-1 w-16 rounded bg-gray-200\">\n                      <div\n                        className=\"h-full rounded bg-gradient-to-r from-red-400 to-green-400\"\n                        style={{ width: `${item.score * 100}%` }}\n                      />\n                    </div>\n                    <span className=\"w-12 font-mono\">{item.score.toFixed(2)}</span>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-2 gap-4 rounded-xl border p-4\">\n        <div>\n          <h4 className=\"font-strong mb-2\">üéØ Score Legend</h4>\n          <div className=\"space-y-1\">\n            <div>1.0 - Exact match</div>\n            <div>0.9 - Prefix match</div>\n            <div>0.8 - Word boundary</div>\n            <div>0.7 - Keyword match</div>\n            <div>0.6 - Substring match</div>\n            <div>0.5 - Fuzzy match</div>\n            <div>0.0 - No match</div>\n          </div>\n        </div>\n        <div>\n          <h4 className=\"font-strong mb-2\">üí° Try These Searches</h4>\n          <div className=\"flex flex-wrap gap-1\">\n            {[\"file\", \"js\", \"user\", \"set\", \"css\", \"new\", \"search\"].map((term) => (\n              <Chip\n                key={term}\n                onClick={() => setSearch(term)}\n              >\n                {term}\n              </Chip>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      <Command className=\"w-96 overflow-hidden rounded-xl shadow-lg\">\n        <Command.Input\n          placeholder=\"Type to see live scoring...\"\n          value={search}\n          onChange={setSearch}\n        />\n        <Command.List>\n          <Command.Empty>No matches found.</Command.Empty>\n          <Command.Group heading=\"Live Search Results\">\n            {scores\n              .filter((item) => item.score > 0)\n              .map((item) => (\n                <Command.Item\n                  key={item.item}\n                  value={item.value}\n                >\n                  <File className=\"mr-2 h-4 w-4\" />\n                  <span>{item.item}</span>\n                  <span className=\"text-secondary-foreground ml-auto\">\n                    {item.score.toFixed(2)}\n                  </span>\n                </Command.Item>\n              ))}\n          </Command.Group>\n        </Command.List>\n      </Command>\n\n      <div className=\"text-secondary-foreground\">\n        üí° <strong>How it works:</strong> The scoring algorithm evaluates match quality using\n        multiple criteria and assigns higher scores to better matches, enabling intelligent\n        ranking.\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--nested-items",
      "name": "Nested Items",
      "exportName": "NestedItems",
      "description": "**Example: Nested Items / Pages**\n\nDemonstrates navigation between different \"pages\" of items using state management.\nShows how to implement drill-down navigation where selecting one item shows a deeper set of items.\n\n**Key Features:**\n- Page stack management with state\n- Escape/Backspace to go back to previous page\n- Conditional rendering based on current page\n- Dynamic page navigation\n\n```tsx\nconst [pages, setPages] = useState([])\nconst page = pages[pages.length - 1]\n\n// Navigate deeper\n<Command.Item onSelect={() => setPages([...pages, 'projects'])}>\n  Search projects‚Ä¶\n</Command.Item>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [search, setSearch] = useState(\"\")\n  const [pages, setPages] = useState<string[]>([])\n  const page = pages[pages.length - 1]\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"rounded-xl border p-4\">\n        <div className=\"font-strong mb-2\">Navigation Guide:</div>\n        <ul className=\"space-y-1\">\n          <li>‚Ä¢ Select items to navigate deeper into subcategories</li>\n          <li>\n            ‚Ä¢ <Kbd keys=\"escape\" /> or <Kbd keys=\"backspace\" /> (when search is empty) to go back\n          </li>\n          <li>‚Ä¢ Current path: {pages.length === 0 ? \"Home\" : pages.join(\" > \")}</li>\n        </ul>\n      </div>\n\n      <Command\n        className=\"w-96 overflow-hidden rounded-xl shadow-lg\"\n        onKeyDown={(e) => {\n          // Escape goes to previous page\n          // Backspace goes to previous page when search is empty\n          if (e.key === \"Escape\" || (e.key === \"Backspace\" && !search)) {\n            e.preventDefault()\n            setPages((pages) => pages.slice(0, -1))\n          }\n        }}\n      >\n        <Command.Input\n          placeholder={page ? `Search in ${page}...` : \"Type a command or search...\"}\n          value={search}\n          onChange={setSearch}\n          variant=\"reset\"\n          className=\"mb-0\"\n          prefixElement={\n            page && (\n              <IconButton\n                variant=\"secondary\"\n                onClick={() => setPages((pages) => pages.slice(0, -1))}\n              >\n                <ChevronLeftSmall />\n              </IconButton>\n            )\n          }\n        />\n        <Command.Divider />\n        <Command.List>\n          <Command.Empty>No results found.</Command.Empty>\n\n          {/* Root level */}\n          {!page && (\n            <>\n              <Command.Group heading=\"Categories\">\n                <Command.Item onSelect={() => setPages([...pages, \"projects\"])}>\n                  <Folder className=\"mr-2 h-4 w-4\" />\n                  <span>Search projects‚Ä¶</span>\n                </Command.Item>\n                <Command.Item onSelect={() => setPages([...pages, \"teams\"])}>\n                  <UserSmall className=\"mr-2 h-4 w-4\" />\n                  <span>Join a team‚Ä¶</span>\n                </Command.Item>\n                <Command.Item onSelect={() => setPages([...pages, \"settings\"])}>\n                  <Settings className=\"mr-2 h-4 w-4\" />\n                  <span>App settings‚Ä¶</span>\n                </Command.Item>\n              </Command.Group>\n            </>\n          )}\n\n          {/* Projects page */}\n          {page === \"projects\" && (\n            <>\n              <Command.Group heading=\"Recent Projects\">\n                <Command.Item value=\"project-a\">\n                  <File className=\"mr-2 h-4 w-4\" />\n                  <span>Design System</span>\n                </Command.Item>\n                <Command.Item value=\"project-b\">\n                  <File className=\"mr-2 h-4 w-4\" />\n                  <span>Marketing Website</span>\n                </Command.Item>\n                <Command.Item value=\"project-c\">\n                  <File className=\"mr-2 h-4 w-4\" />\n                  <span>Mobile App</span>\n                </Command.Item>\n              </Command.Group>\n            </>\n          )}\n\n          {/* Teams page */}\n          {page === \"teams\" && (\n            <>\n              <Command.Group heading=\"Available Teams\">\n                <Command.Item value=\"team-design\">\n                  <UserSmall className=\"mr-2 h-4 w-4\" />\n                  <span>Design Team</span>\n                </Command.Item>\n                <Command.Item value=\"team-engineering\">\n                  <UserSmall className=\"mr-2 h-4 w-4\" />\n                  <span>Engineering Team</span>\n                </Command.Item>\n                <Command.Item value=\"team-product\">\n                  <UserSmall className=\"mr-2 h-4 w-4\" />\n                  <span>Product Team</span>\n                </Command.Item>\n              </Command.Group>\n            </>\n          )}\n\n          {/* Settings page */}\n          {page === \"settings\" && (\n            <>\n              <Command.Group heading=\"Preferences\">\n                <Command.Item value=\"theme-settings\">\n                  <Settings className=\"mr-2 h-4 w-4\" />\n                  <span>Theme Settings</span>\n                </Command.Item>\n                <Command.Item value=\"notification-settings\">\n                  <Settings className=\"mr-2 h-4 w-4\" />\n                  <span>Notifications</span>\n                </Command.Item>\n                <Command.Item value=\"account-settings\">\n                  <Settings className=\"mr-2 h-4 w-4\" />\n                  <span>Account</span>\n                </Command.Item>\n              </Command.Group>\n            </>\n          )}\n        </Command.List>\n      </Command>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--conditional-sub-items",
      "name": "Conditional Sub Items",
      "exportName": "ConditionalSubItems",
      "description": "**Example: Conditional Sub-Items**\n\nShows how to conditionally render sub-items that only appear when searching.\nUseful for revealing detailed actions only when the user is actively searching.\n\n**Key Features:**\n- Sub-items only visible during search\n- Custom SubItem component using useCommandState\n- Progressive disclosure pattern\n- Search-driven UI expansion\n\n```tsx\nconst SubItem = (props) => {\n  const search = useCommandState((state) => state.search)\n  if (!search) return null\n  return <Command.Item {...props} />\n}\n```",
      "source": "import { useCommandState, Command } from \"@choice-ui/command\"\n\nexport default function App() {\n\n  // Custom SubItem component that only shows when searching\n  const SubItem = ({ children, ...props }: { children: React.ReactNode; value?: string }) => {\n    const search = useCommandState((state) => state.search)\n    if (!search) return null\n    return <Command.Item {...props}>{children}</Command.Item>\n  }\n\n  return (\n    <div className=\"w-96 space-y-4\">\n      <div className=\"rounded-xl border p-4\">\n        <div className=\"font-strong mb-2\">Search Behavior:</div>\n        <ul className=\"space-y-1\">\n          <li>\n            ‚Ä¢ <strong>Normal view:</strong> Shows only main items\n          </li>\n          <li>\n            ‚Ä¢ <strong>When searching:</strong> Sub-items become visible\n          </li>\n          <li>\n            ‚Ä¢ Try searching for &quot;theme&quot;, &quot;dark&quot;, or &quot;notification&quot;\n            to see sub-items appear\n          </li>\n        </ul>\n      </div>\n\n      <Command className=\"w-96 overflow-hidden rounded-xl shadow-lg\">\n        <Command.Input placeholder=\"Start typing to reveal sub-items...\" />\n        <Command.List className=\"h-64\">\n          <Command.Empty>No results found.</Command.Empty>\n\n          <Command.Group heading=\"Appearance\">\n            <Command.Item\n              value=\"change-theme\"\n              prefixElement={<Settings />}\n            >\n              <Command.Value>Change theme‚Ä¶</Command.Value>\n            </Command.Item>\n            <SubItem value=\"change-theme-dark\">\n              <div className=\"ml-6 flex items-center\">\n                <div className=\"mr-2 h-3 w-3 rounded-full bg-gray-800\" />\n                <Command.Value>Change theme to dark</Command.Value>\n              </div>\n            </SubItem>\n            <SubItem value=\"change-theme-light\">\n              <div className=\"ml-6 flex items-center\">\n                <div className=\"mr-2 h-3 w-3 rounded-full border bg-white\" />\n                <Command.Value>Change theme to light</Command.Value>\n              </div>\n            </SubItem>\n            <SubItem value=\"change-theme-auto\">\n              <div className=\"ml-6 flex items-center\">\n                <div className=\"mr-2 h-3 w-3 rounded-full bg-gradient-to-r from-gray-800 to-white\" />\n                <Command.Value>Change theme to auto</Command.Value>\n              </div>\n            </SubItem>\n          </Command.Group>\n\n          <Command.Group heading=\"Notifications\">\n            <Command.Item\n              value=\"notification-settings\"\n              prefixElement={<Settings />}\n            >\n              <Command.Value>Notification settings‚Ä¶</Command.Value>\n            </Command.Item>\n            <SubItem value=\"enable-notifications\">\n              <div className=\"ml-6 flex items-center\">\n                <div className=\"mr-2 h-3 w-3 rounded-full bg-green-500\" />\n                <Command.Value>Enable all notifications</Command.Value>\n              </div>\n            </SubItem>\n            <SubItem value=\"disable-notifications\">\n              <div className=\"ml-6 flex items-center\">\n                <div className=\"mr-2 h-3 w-3 rounded-full bg-red-500\" />\n                <Command.Value>Disable all notifications</Command.Value>\n              </div>\n            </SubItem>\n            <SubItem value=\"notification-schedule\">\n              <div className=\"ml-6 flex items-center\">\n                <div className=\"mr-2 h-3 w-3 rounded-full bg-blue-500\" />\n                <Command.Value>Set notification schedule</Command.Value>\n              </div>\n            </SubItem>\n          </Command.Group>\n\n          <Command.Group heading=\"Privacy\">\n            <Command.Item\n              value=\"privacy-settings\"\n              prefixElement={<Settings />}\n            >\n              <Command.Value>Privacy settings‚Ä¶</Command.Value>\n            </Command.Item>\n            <SubItem value=\"clear-data\">\n              <div className=\"ml-6 flex items-center\">\n                <div className=\"mr-2 h-3 w-3 rounded-full bg-orange-500\" />\n                <Command.Value>Clear browsing data</Command.Value>\n              </div>\n            </SubItem>\n            <SubItem value=\"manage-cookies\">\n              <div className=\"ml-6 flex items-center\">\n                <div className=\"mr-2 h-3 w-3 rounded-full bg-purple-500\" />\n                <Command.Value>Manage cookies</Command.Value>\n              </div>\n            </SubItem>\n          </Command.Group>\n        </Command.List>\n      </Command>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--async-results",
      "name": "Async Results",
      "exportName": "AsyncResults",
      "description": "**Example: Asynchronous Results**\n\nDemonstrates loading data asynchronously and displaying results as they become available.\nShows proper loading states and handles dynamic content updates.\n\n**Key Features:**\n- Async data fetching simulation\n- Loading states with Command.Loading\n- Dynamic item rendering\n- Automatic filtering and sorting\n\n```tsx\nconst [loading, setLoading] = useState(false)\nconst [items, setItems] = useState([])\n\nuseEffect(() => {\n  async function fetchData() {\n    setLoading(true)\n    const data = await api.get('/items')\n    setItems(data)\n    setLoading(false)\n  }\n  fetchData()\n}, [])\n```",
      "source": "import { Command } from \"@choice-ui/command\"\nimport { useState, useEffect } from \"react\"\n\nexport default function App() {\n\n  const [loading, setLoading] = useState(false)\n  const [items, setItems] = useState<string[]>([])\n  const [error, setError] = useState<string | null>(null)\n\n  // Simulate async data fetching\n  const fetchItems = async () => {\n    setLoading(true)\n    setError(null)\n    setItems([])\n\n    try {\n      // Simulate API delay\n      await new Promise((resolve) => setTimeout(resolve, 2000))\n\n      // Simulate random data\n      const mockItems = [\n        \"Apple\",\n        \"Banana\",\n        \"Cherry\",\n        \"Date\",\n        \"Elderberry\",\n        \"Fig\",\n        \"Grape\",\n        \"Honeydew\",\n        \"Kiwi\",\n        \"Lemon\",\n        \"Mango\",\n        \"Nectarine\",\n        \"Orange\",\n        \"Papaya\",\n        \"Quince\",\n        \"Raspberry\",\n        \"Strawberry\",\n        \"Tangerine\",\n        \"Ugli\",\n        \"Vanilla\",\n      ]\n\n      // Randomly select 8-12 items\n      const selectedItems = mockItems\n        .sort(() => Math.random() - 0.5)\n        .slice(0, Math.floor(Math.random() * 5) + 8)\n\n      setItems(selectedItems)\n    } catch (err) {\n      setError(\"Failed to load items\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    fetchItems()\n  }, [])\n\n  return (\n    <div className=\"w-96 space-y-4\">\n      <div className=\"flex items-center justify-between rounded-xl border p-4\">\n        <div className=\"\">\n          <div className=\"font-strong\">Async Data Loading</div>\n          <div className=\"text-secondary-foreground\">\n            Status: {loading ? \"Loading...\" : error ? \"Error\" : `${items.length} items loaded`}\n          </div>\n        </div>\n        <Button\n          onClick={fetchItems}\n          disabled={loading}\n        >\n          {loading ? \"Loading...\" : \"Refresh Data\"}\n        </Button>\n      </div>\n\n      <Command className=\"w-96 overflow-hidden rounded-xl shadow-lg\">\n        <Command.Input placeholder=\"Search items...\" />\n        <Command.List className=\"h-64\">\n          {loading && (\n            <Command.Loading>\n              <Command.Value>Fetching fresh data...</Command.Value>\n            </Command.Loading>\n          )}\n\n          {error && (\n            <Command.Empty>\n              <Command.Value>Error: {error}</Command.Value>\n            </Command.Empty>\n          )}\n\n          {!loading && !error && items.length === 0 && (\n            <Command.Empty>No items available.</Command.Empty>\n          )}\n\n          {!loading && !error && (\n            <Command.Group heading={`Fresh Items (${items.length})`}>\n              {items.map((item) => (\n                <Command.Item\n                  key={`fruit-${item}`}\n                  value={item}\n                >\n                  <Command.Value>{item}</Command.Value>\n                </Command.Item>\n              ))}\n            </Command.Group>\n          )}\n        </Command.List>\n      </Command>\n    </div>\n  )\n\n}"
    },
    {
      "id": "collections-command--with-tabs",
      "name": "With Tabs",
      "exportName": "WithTabs",
      "description": "**Example: Command with Tabs Filter**\n\nDemonstrates how to use Command.Tabs for quick filtering of items by category.\nThe first tab is always \"All\" to show all items, followed by category-specific filters.\n\n**Key Features:**\n- Tab-based filtering system\n- \"All\" tab shows all items\n- Category-specific filtering\n- Preserves search functionality within filters\n- Integrated with Command's existing filtering system\n\n```tsx\n<Command.Tabs value={activeTab} onChange={setActiveTab}>\n  <Tabs.Item value=\"all\">All</Tabs.Item>\n  <Tabs.Item value=\"files\">Files</Tabs.Item>\n  <Tabs.Item value=\"actions\">Actions</Tabs.Item>\n</Command.Tabs>\n```",
      "source": "import { Command } from \"@choice-ui/command\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [activeTab, setActiveTab] = useState(\"all\")\n  const [searchValue, setSearchValue] = useState(\"\")\n\n  // Mock data with categories\n  const allItems = [\n    {\n      id: \"new-file\",\n      label: \"New File\",\n      category: \"files\",\n      icon: <File className=\"h-4 w-4\" />,\n      keywords: [\"create\", \"document\"],\n    },\n    {\n      id: \"open-file\",\n      label: \"Open File\",\n      category: \"files\",\n      icon: <File className=\"h-4 w-4\" />,\n      keywords: [\"browse\", \"open\"],\n    },\n    {\n      id: \"save-file\",\n      label: \"Save File\",\n      category: \"files\",\n      icon: <File className=\"h-4 w-4\" />,\n      keywords: [\"save\", \"store\"],\n    },\n    {\n      id: \"search-files\",\n      label: \"Search Files\",\n      category: \"actions\",\n      icon: <SearchSmall className=\"h-4 w-4\" />,\n      keywords: [\"find\", \"search\"],\n    },\n    {\n      id: \"settings\",\n      label: \"Settings\",\n      category: \"actions\",\n      icon: <Settings className=\"h-4 w-4\" />,\n      keywords: [\"preferences\", \"config\"],\n    },\n    {\n      id: \"user-profile\",\n      label: \"User Profile\",\n      category: \"actions\",\n      icon: <UserSmall className=\"h-4 w-4\" />,\n      keywords: [\"account\", \"user\"],\n    },\n    {\n      id: \"new-folder\",\n      label: \"New Folder\",\n      category: \"files\",\n      icon: <Folder className=\"h-4 w-4\" />,\n      keywords: [\"directory\", \"create\"],\n    },\n    {\n      id: \"share-file\",\n      label: \"Share File\",\n      category: \"actions\",\n      icon: <File className=\"h-4 w-4\" />,\n      keywords: [\"share\", \"send\"],\n    },\n    {\n      id: \"export-data\",\n      label: \"Export Data\",\n      category: \"actions\",\n      icon: <File className=\"h-4 w-4\" />,\n      keywords: [\"export\", \"download\"],\n    },\n  ]\n\n  // Filter items based on active tab\n  const filteredItems =\n    activeTab === \"all\" ? allItems : allItems.filter((item) => item.category === activeTab)\n\n  // Group items by category for display\n  const groupedItems = filteredItems.reduce(\n    (acc, item) => {\n      if (!acc[item.category]) {\n        acc[item.category] = []\n      }\n      acc[item.category].push(item)\n      return acc\n    },\n    {} as Record<string, typeof allItems>,\n  )\n\n  const categoryLabels = {\n    files: \"Files\",\n    actions: \"Actions\",\n  }\n\n  return (\n    <div className=\"w-96 space-y-4\">\n      <div className=\"rounded-xl border p-4\">\n        <div className=\"font-strong mb-2\">Tabbed Filtering:</div>\n        <ul className=\"space-y-1\">\n          <li>‚Ä¢ Use tabs to quickly filter items by category</li>\n          <li>‚Ä¢ &quot;All&quot; tab shows all items across categories</li>\n          <li>‚Ä¢ Search works within the selected tab filter</li>\n          <li>‚Ä¢ Use left and right arrow keys to cycle through tabs</li>\n          <li>\n            ‚Ä¢ Currently showing:{\" \"}\n            <strong>\n              {activeTab === \"all\"\n                ? \"All Items\"\n                : categoryLabels[activeTab as keyof typeof categoryLabels] || activeTab}\n            </strong>\n          </li>\n          <li>\n            ‚Ä¢ Items visible: <strong>{filteredItems.length}</strong>\n          </li>\n        </ul>\n      </div>\n\n      <Command\n        loop\n        className=\"w-96 overflow-hidden rounded-xl shadow-lg\"\n        onKeyDown={(e) => {\n          // Â∑¶Âè≥ÈîÆÂæ™ÁéØÂàáÊç¢tab\n          if (e.key === \"ArrowLeft\") {\n            setActiveTab(\n              activeTab === \"all\" ? \"actions\" : activeTab === \"actions\" ? \"files\" : \"all\",\n            )\n          } else if (e.key === \"ArrowRight\") {\n            setActiveTab(\n              activeTab === \"all\" ? \"files\" : activeTab === \"files\" ? \"actions\" : \"all\",\n            )\n          }\n        }}\n      >\n        <Command.Input\n          placeholder={`Search ${activeTab === \"all\" ? \"all items\" : activeTab}...`}\n          value={searchValue}\n          onChange={setSearchValue}\n        />\n        <Command.Tabs\n          value={activeTab}\n          onChange={setActiveTab}\n        >\n          <Command.TabItem value=\"all\">All ({allItems.length})</Command.TabItem>\n          <Command.TabItem value=\"files\">\n            Files ({allItems.filter((i) => i.category === \"files\").length})\n          </Command.TabItem>\n          <Command.TabItem value=\"actions\">\n            Actions ({allItems.filter((i) => i.category === \"actions\").length})\n          </Command.TabItem>\n        </Command.Tabs>\n\n        <Command.List className=\"h-64\">\n          <Command.Empty>No {activeTab === \"all\" ? \"items\" : activeTab} found.</Command.Empty>\n\n          {Object.entries(groupedItems).map(([category, items]) => (\n            <Command.Group\n              key={category}\n              heading={categoryLabels[category as keyof typeof categoryLabels] || category}\n            >\n              {items.map((item) => (\n                <Command.Item\n                  key={item.id}\n                  value={item.id}\n                  keywords={item.keywords}\n                  prefixElement={item.icon}\n                >\n                  <Command.Value>{item.label}</Command.Value>\n                </Command.Item>\n              ))}\n            </Command.Group>\n          ))}\n        </Command.List>\n\n        <Command.Footer>\n          <div className=\"text-secondary-foreground\">\n            {activeTab === \"all\" ? \"Showing all categories\" : `Filtered by: ${activeTab}`}\n          </div>\n          <div className=\"text-secondary-foreground\">{filteredItems.length} items</div>\n        </Command.Footer>\n      </Command>\n\n      <div className=\"text-secondary-foreground\">\n        üí° <strong>How it works:</strong> The tabs provide a quick way to filter the command\n        palette by category while preserving the search functionality within each filter.\n      </div>\n    </div>\n  )\n\n}"
    }
  ],
  "tags": [
    "new"
  ]
}