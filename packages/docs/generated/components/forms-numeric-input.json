{
  "slug": "forms/numeric-input",
  "title": "NumericInput",
  "package": {
    "name": "@choice-ui/numeric-input",
    "version": "0.0.7",
    "description": "Numeric Input component for Choiceform Design System",
    "dependencies": {
      "@choice-ui/chip": "workspace:*",
      "@choice-ui/shared": "workspace:*",
      "@choice-ui/icon-button": "workspace:*",
      "@choiceform/icons-react": "^1.3.8",
      "@choice-ui/tooltip": "workspace:*",
      "usehooks-ts": "^3.1.0"
    },
    "peerDependencies": {
      "react": ">=18.0.0",
      "react-dom": ">=18.0.0"
    }
  },
  "exports": [
    "type ElementType",
    "type NumericInputElementProps",
    "NumericInputElement",
    "NumericInputMenuTrigger",
    "NumericInputMenuActionPrompt",
    "NumericInputVariable",
    "useNumericInput",
    "useStepCalculation",
    "useNumericValueProcessing",
    "useInputInteractions",
    "type NumericInputProps",
    "NumericInputBase",
    "NumericInput",
    "type NumberResult",
    "type NumericInputValue"
  ],
  "props": [
    {
      "displayName": "NumericInputElement",
      "description": "",
      "props": [
        {
          "name": "className",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "position",
          "type": "undefined | \"prefix\" | \"suffix\"",
          "required": false,
          "description": ""
        },
        {
          "name": "type",
          "type": "undefined | \"action\" | \"handler\" | \"menu\"",
          "required": false,
          "description": ""
        },
        {
          "name": "ref",
          "type": "((instance: HTMLDivElement | null) => void) | RefObject<HTMLDivElement> | null | undefined",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "NumericInputMenuTrigger",
      "description": "",
      "props": [
        {
          "name": "className",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "type",
          "type": "undefined | \"action\" | \"menu\"",
          "required": false,
          "description": ""
        },
        {
          "name": "size",
          "type": "undefined | \"default\" | \"large\" | \"reset\"",
          "required": false,
          "description": ""
        },
        {
          "name": "as",
          "type": "ElementType<any, keyof IntrinsicElements> | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "disabled",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "readOnly",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "active",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "asChild",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "focused",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "loading",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "tooltip",
          "type": "TooltipProps | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "variant",
          "type": "undefined | \"default\" | \"reset\" | \"secondary\" | \"solid\" | \"highlight\" | \"ghost\" | \"dark\"",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "NumericInputMenuActionPrompt",
      "description": "",
      "props": [
        {
          "name": "className",
          "type": "string | undefined",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "NumericInputVariable",
      "description": "",
      "props": [
        {
          "name": "className",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "hasPrefixElement",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onClick",
          "type": "((e: MouseEvent<HTMLDivElement, MouseEvent>) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "value",
          "type": "number | null | undefined",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "useNumericInput",
      "description": "数值输入控件的主钩子，整合各种交互功能",
      "props": [
        {
          "name": "containerRef",
          "type": "RefObject<HTMLElement> | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "decimal",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "defaultValue",
          "type": "NumericInputValue | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "disabled",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "expression",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "max",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "min",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onChange",
          "type": "((value: T, obj: NumberResult) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onEmpty",
          "type": "(() => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onPressEnd",
          "type": "(((event: PressEvent) => void) & ((e: PointerEvent) => void)) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onPressStart",
          "type": "(((event: PressEvent) => void) & ((e: PointerEvent) => void)) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "readOnly",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "ref",
          "type": "Ref<HTMLInputElement> | undefined",
          "required": false,
          "description": "Allows getting a ref to the component instance.\nOnce the component unmounts, React will set `ref.current` to `null`\n(or call the ref with `null` if you passed a callback ref)."
        },
        {
          "name": "shiftStep",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "step",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "value",
          "type": "NumericInputValue | undefined",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "useStepCalculation",
      "description": "计算数值步进大小的钩子",
      "props": []
    },
    {
      "displayName": "useNumericValueProcessing",
      "description": "处理数值输入和转换的钩子",
      "props": [
        {
          "name": "decimal",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "defaultValue",
          "type": "NumericInputValue | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "expression",
          "type": "string",
          "required": true,
          "description": ""
        },
        {
          "name": "max",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "min",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "value",
          "type": "NumericInputValue | undefined",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "useInputInteractions",
      "description": "处理输入框交互的钩子",
      "props": [
        {
          "name": "decimal",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "disabled",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "displayValue",
          "type": "string",
          "required": true,
          "description": ""
        },
        {
          "name": "expression",
          "type": "string",
          "required": true,
          "description": ""
        },
        {
          "name": "getCurrentStep",
          "type": "() => number",
          "required": true,
          "description": ""
        },
        {
          "name": "innerValue",
          "type": "NumberResult | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "inputRef",
          "type": "RefObject<HTMLInputElement>",
          "required": true,
          "description": ""
        },
        {
          "name": "isFocused",
          "type": "boolean",
          "required": true,
          "description": ""
        },
        {
          "name": "max",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "min",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onChange",
          "type": "((value: T, detail: NumberResult) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onEmpty",
          "type": "(() => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "readOnly",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "setDisplayValue",
          "type": "(value: string) => void",
          "required": true,
          "description": ""
        },
        {
          "name": "setIsFocused",
          "type": "(focused: boolean) => void",
          "required": true,
          "description": ""
        },
        {
          "name": "setValue",
          "type": "(value: NumberResult | ((prev: NumberResult | undefined) => NumberResult)) => void",
          "required": true,
          "description": ""
        },
        {
          "name": "updateValue",
          "type": "(updateFn?: ((value: number) => number) | undefined) => void",
          "required": true,
          "description": ""
        },
        {
          "name": "value",
          "type": "NumericInputValue | undefined",
          "required": false,
          "description": ""
        }
      ]
    },
    {
      "displayName": "NumericInputValue",
      "description": "",
      "props": [
        {
          "name": "value",
          "type": "NumericInputValue | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "defaultValue",
          "type": "NumericInputValue | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onChange",
          "type": "((value: NumericInputValue, detail: NumberResult) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "max",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "min",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "step",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "disabled",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "id",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "readOnly",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "selected",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "className",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "classNames",
          "type": "{ container?: string | undefined; input?: string | undefined; } | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "tooltip",
          "type": "TooltipProps | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "triggerRef",
          "type": "RefObject<HTMLDivElement> | ((el: HTMLDivElement | null) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "decimal",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "expression",
          "type": "string | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "focused",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "handlerPressed",
          "type": "boolean | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "handlerProps",
          "type": "Record<string, unknown> | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onEmpty",
          "type": "(() => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onIsEditingChange",
          "type": "((isEditing: boolean) => void) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onPressEnd",
          "type": "(((event: PressEvent) => void) & ((e: PointerEvent) => void)) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "onPressStart",
          "type": "(((event: PressEvent) => void) & ((e: PointerEvent) => void)) | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "shiftStep",
          "type": "number | undefined",
          "required": false,
          "description": ""
        },
        {
          "name": "variant",
          "type": "undefined | \"default\" | \"light\" | \"dark\" | \"reset\"",
          "required": false,
          "description": ""
        }
      ]
    }
  ],
  "stories": [
    {
      "id": "forms-numericinput--basic",
      "name": "Basic",
      "exportName": "Basic",
      "description": "# NumericInput Component\n\nA sophisticated input component for handling numeric values with rich formatting,\nexpression evaluation, and interactive features.\n\n## Key Features\n\n- **Flexible Value Handling**: Supports simple numbers, mathematical expressions, and formatted values (with units)\n- **Multiple Interaction Modes**: Keyboard navigation, drag adjustments, menu selection\n- **Variable Binding**: Support for displaying and toggling variable values\n- **Rich Expression Formats**: Unit formatting (px, %, etc.), multi-value inputs, conditional formatting\n- **Customizable Appearance**: Prefix, suffix elements, dark theme\n- **State Management**: Disabled state, selected state, error handling\n\n## Expression Format Examples\n\n- Unit format: `\"{value}px\"` → displays \"100px\"\n- Multiple properties: `\"{width}px, {height}px\"` → displays \"10px, 20px\"\n- Conditional hiding: `\"{value1}{value2,hidden}\"` → shows value2 only when needed\n\n## Advanced Features\n\n- **Math Evaluation**: Input mathematical expressions (e.g., \"1+2*3\")\n- **Keyboard Controls**:\n  - ↑/↓: Increase/decrease by step value\n  - Shift + ↑/↓: Use larger step\n  - Meta/Alt + ↑/↓: Use smaller step\n- **Variable Support**: Display variable values with `<NumericInput.Variable />` component\n- **Custom Menus**: Add dropdown menus with suffix of type \"menu\" or \"action\"\n\n## Best Practices\n\n- Provide clear prefix or suffix to indicate value type or unit\n- Use appropriate constraints (min, max, step) for better user experience\n- Always use expression pattern for complex formatted values\n\n## Style Variants\n\n- Default (light theme)\n- Dark theme: `variant=\"dark\"`\n- Disabled state: `disabled={true}`\n- Selected state: `selected={true}`",
      "source": "import { NumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState(10)\n\n  return (\n    <NumericInput\n      value={value}\n      onChange={(newValue) => setValue(newValue as number)}\n    />\n  )\n\n}"
    },
    {
      "id": "forms-numericinput--prefix",
      "name": "Prefix",
      "exportName": "Prefix",
      "description": "Example showing NumericInput with a prefix element.\nPrefixes provide visual context for the input value, such as indicating the property type.",
      "source": "import { NumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState(10)\n  return (\n    <NumericInput\n      value={value}\n      onChange={(newValue) => setValue(newValue as number)}\n    >\n      <NumericInput.Prefix>\n        <HugWidth />\n      </NumericInput.Prefix>\n    </NumericInput>\n  )\n\n}"
    },
    {
      "id": "forms-numericinput--suffix",
      "name": "Suffix",
      "exportName": "Suffix",
      "description": "Example showing NumericInput with a suffix element.\nSuffixes help indicate units or provide additional context after the value.",
      "source": "import { NumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState(10)\n  return (\n    <NumericInput\n      value={value}\n      onChange={(newValue) => setValue(newValue as number)}\n    >\n      <NumericInput.Suffix>\n        <Relative />\n      </NumericInput.Suffix>\n    </NumericInput>\n  )\n\n}"
    },
    {
      "id": "forms-numericinput--prefix-and-suffix",
      "name": "Prefix And Suffix",
      "exportName": "PrefixAndSuffix",
      "description": "Example showing NumericInput with both prefix and suffix elements.\nThis pattern is useful for providing complete context around a value.",
      "source": "import { NumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState(10)\n  return (\n    <NumericInput\n      value={value}\n      onChange={(newValue) => setValue(newValue as number)}\n    >\n      <NumericInput.Prefix>\n        <HugWidth />\n      </NumericInput.Prefix>\n      <NumericInput.Suffix>\n        <Relative />\n      </NumericInput.Suffix>\n    </NumericInput>\n  )\n\n}"
    },
    {
      "id": "forms-numericinput--suffix-menu",
      "name": "Suffix Menu",
      "exportName": "SuffixMenu",
      "description": "Example demonstrating a NumericInput with a dropdown menu in the suffix.\nThis pattern allows additional actions to be performed on the input value.\nThe menu is triggered by a button in the suffix position.",
      "source": "import { NumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState(10)\n  const [menuOpen, setMenuOpen] = useState(false)\n  return (\n    <NumericInput\n      focused={menuOpen}\n      value={value}\n      onChange={(newValue) => setValue(newValue as number)}\n    >\n      <NumericInput.Suffix type=\"menu\">\n        <Dropdown\n          open={menuOpen}\n          onOpenChange={setMenuOpen}\n          placement=\"bottom\"\n        >\n          <Dropdown.Trigger asChild>\n            <IconButton className=\"rounded-l-none\">\n              <ChevronDownSmall />\n            </IconButton>\n          </Dropdown.Trigger>\n          <Dropdown.Content>\n            <Dropdown.Item>\n              <FixedHeight />\n              Fixed height\n            </Dropdown.Item>\n            <Dropdown.Item>\n              <HugHeight />\n              Hug contents\n            </Dropdown.Item>\n            <Dropdown.Divider />\n            <Dropdown.Item>\n              <MinHeight />\n              Add min height...\n            </Dropdown.Item>\n            <Dropdown.Item>\n              <MaxHeight />\n              Add max height...\n            </Dropdown.Item>\n          </Dropdown.Content>\n        </Dropdown>\n      </NumericInput.Suffix>\n    </NumericInput>\n  )\n\n}"
    },
    {
      "id": "forms-numericinput--suffix-action",
      "name": "Suffix Action",
      "exportName": "SuffixAction",
      "description": "Example showing a NumericInput with an action in the suffix.\nAction suffixes allow changing the behavior or formatting of the input.\nThis example demonstrates a dropdown selector that changes the height behavior.",
      "source": "import { NumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState(10)\n  const [menuValue, setMenuValue] = useState(\"fixed\")\n  const [menuOpen, setMenuOpen] = useState(false)\n\n  return (\n    <NumericInput\n      focused={menuOpen}\n      value={value}\n      onChange={(newValue) => setValue(newValue as number)}\n    >\n      {menuValue !== \"fixed\" && (\n        <NumericInput.ActionPrompt>\n          {selectOptions.find((option) => option.value === menuValue)?.label?.split(\" \")[0]}\n        </NumericInput.ActionPrompt>\n      )}\n\n      <NumericInput.Suffix type=\"action\">\n        <Select\n          open={menuOpen}\n          onOpenChange={setMenuOpen}\n          value={menuValue}\n          onChange={(value) => setMenuValue(value)}\n          placement=\"bottom-end\"\n        >\n          <Select.Trigger asChild>\n            <IconButton className=\"rounded-l-none\">\n              <ChevronDownSmall />\n            </IconButton>\n          </Select.Trigger>\n          <Select.Content>\n            <Select.Item value=\"fixed\">\n              <FixedHeight />\n              Fixed height\n            </Select.Item>\n            <Select.Item value=\"hug\">\n              <HugHeight />\n              Hug contents\n            </Select.Item>\n            <Select.Divider />\n            <Select.Item value=\"min\">\n              <MinHeight />\n              Add min height...\n            </Select.Item>\n            <Select.Item value=\"max\">\n              <MaxHeight />\n              Add max height...\n            </Select.Item>\n          </Select.Content>\n        </Select>\n      </NumericInput.Suffix>\n    </NumericInput>\n  )\n\n}"
    },
    {
      "id": "forms-numericinput--add-variable",
      "name": "Add Variable",
      "exportName": "AddVariable",
      "description": "Example demonstrating variable value support in NumericInput.\nVariables allow users to reference dynamic values instead of hardcoded numbers.\nThis example shows how to toggle between a concrete value and a variable reference.",
      "source": "import { NumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState<number | undefined>(undefined)\n  const [variableValue, setVariableValue] = useState<number | null>(null)\n\n  const handleChange = useEventCallback((newValue) => {\n    setValue(newValue as number)\n  })\n\n  return (\n    <NumericInput\n      value={value}\n      onChange={handleChange}\n    >\n      <NumericInput.Prefix>\n        <FixedWidth />\n      </NumericInput.Prefix>\n\n      {variableValue && !value && <NumericInput.Variable value={variableValue} />}\n\n      <NumericInput.Suffix type=\"menu\">\n        <Dropdown>\n          <Dropdown.Trigger asChild>\n            <IconButton className=\"rounded-l-none\">\n              <Variable />\n            </IconButton>\n          </Dropdown.Trigger>\n          <Dropdown.Content>\n            <Dropdown.Item\n              onMouseUp={() => {\n                setVariableValue(10)\n                setValue(undefined)\n              }}\n            >\n              Add variable...\n            </Dropdown.Item>\n          </Dropdown.Content>\n        </Dropdown>\n      </NumericInput.Suffix>\n    </NumericInput>\n  )\n\n}"
    },
    {
      "id": "forms-numericinput--expression",
      "name": "Expression",
      "exportName": "Expression",
      "description": "Example showing expression pattern support for formatting compound values.\nThe expression \"{width}px, {height}px\" formats the value object with two properties.\nThis pattern is ideal for dimension inputs or other multi-value scenarios.",
      "source": "import { NumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState({\n    width: 10,\n    height: 20,\n  })\n\n  return (\n    <NumericInput\n      expression=\"{width}px, {height}px\"\n      value={value}\n      onChange={(newValue) => setValue(newValue as { height: number; width: number })}\n    >\n      <NumericInput.Prefix>\n        <FixedWidth />\n      </NumericInput.Prefix>\n    </NumericInput>\n  )\n\n}"
    },
    {
      "id": "forms-numericinput--disabled",
      "name": "Disabled",
      "exportName": "Disabled",
      "description": "Example showing NumericInput in disabled state.\nDisabled inputs prevent user interaction but maintain visual consistency.\nThis example shows both simple disabled inputs and complex ones with variables and menus.",
      "source": "import { NumericInput } from \"@choice-ui/numeric-input\"\n\nexport default function App() {\n\n  return (\n    <div className=\"grid w-64 grid-cols-2 gap-4\">\n      <NumericInput\n        disabled\n        value={10}\n        onChange={(newValue) => console.log(newValue)}\n      >\n        <NumericInput.Prefix>\n          <ColorTypeSolid />\n        </NumericInput.Prefix>\n      </NumericInput>\n      <NumericInput\n        disabled\n        value={10}\n        onChange={(newValue) => console.log(newValue)}\n      >\n        <NumericInput.Prefix>\n          <ColorTypeSolid />\n        </NumericInput.Prefix>\n\n        <NumericInput.Variable value={10} />\n\n        <NumericInput.Suffix type=\"action\">\n          <Select\n            disabled\n            placement=\"bottom-end\"\n          >\n            <Select.Trigger asChild>\n              <NumericInput.MenuTrigger\n                aria-label=\"Open menu\"\n                type=\"action\"\n              />\n            </Select.Trigger>\n            <Select.Content>\n              <Select.Item value=\"fixed\">\n                <FixedHeight />\n                Fixed height\n              </Select.Item>\n              <Select.Item value=\"hug\">\n                <HugHeight />\n                Hug contents\n              </Select.Item>\n            </Select.Content>\n          </Select>\n        </NumericInput.Suffix>\n      </NumericInput>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-numericinput--variants",
      "name": "Variants",
      "exportName": "Variants",
      "description": "Variants: Demonstrates different visual variants of the numeric input component.\n- default: Follows the page theme dynamically (light/dark mode)\n- light: Fixed light appearance regardless of theme\n- dark: Fixed dark appearance regardless of theme\n- reset: Removes variant styling, no variant settings applied",
      "source": "import { NumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState(10)\n  const [disabled, setDisabled] = useState(false)\n  return (\n    <div className=\"flex flex-col gap-2\">\n      <Checkbox\n        value={disabled}\n        onChange={(value) => setDisabled(value)}\n      >\n        Disabled\n      </Checkbox>\n      <div className=\"grid grid-cols-3 overflow-hidden rounded-xl border\">\n        <div className=\"bg-default-background flex aspect-square flex-col items-start justify-center gap-4 p-8\">\n          <NumericInput\n            disabled={disabled}\n            value={value}\n            onChange={(newValue) => setValue(newValue as number)}\n          />\n          <NumericInput\n            disabled={disabled}\n            value={value}\n            onChange={(newValue) => setValue(newValue as number)}\n          >\n            <NumericInput.Prefix>\n              <ColorTypeSolid />\n            </NumericInput.Prefix>\n            <NumericInput.Variable value={10} />\n            <NumericInput.Suffix type=\"action\">\n              <Select\n                disabled\n                placement=\"bottom-end\"\n              >\n                <Select.Trigger asChild>\n                  <NumericInput.MenuTrigger\n                    aria-label=\"Open menu\"\n                    type=\"menu\"\n                  />\n                </Select.Trigger>\n                <Select.Content>\n                  <Select.Item value=\"fixed\">\n                    <FixedHeight />\n                    Fixed height\n                  </Select.Item>\n                </Select.Content>\n              </Select>\n            </NumericInput.Suffix>\n          </NumericInput>\n        </div>\n        <div className=\"flex aspect-square flex-col items-start justify-center gap-4 bg-white p-8\">\n          <NumericInput\n            disabled={disabled}\n            variant=\"light\"\n            value={value}\n            onChange={(newValue) => setValue(newValue as number)}\n          />\n          <NumericInput\n            disabled={disabled}\n            variant=\"light\"\n            value={value}\n            onChange={(newValue) => setValue(newValue as number)}\n          >\n            <NumericInput.Prefix>\n              <ColorTypeSolid />\n            </NumericInput.Prefix>\n            <NumericInput.Variable value={10} />\n            <NumericInput.Suffix type=\"action\">\n              <Select\n                disabled\n                placement=\"bottom-end\"\n              >\n                <Select.Trigger asChild>\n                  <NumericInput.MenuTrigger\n                    aria-label=\"Open menu\"\n                    type=\"menu\"\n                  />\n                </Select.Trigger>\n                <Select.Content>\n                  <Select.Item value=\"fixed\">\n                    <FixedHeight />\n                    Fixed height\n                  </Select.Item>\n                </Select.Content>\n              </Select>\n            </NumericInput.Suffix>\n          </NumericInput>\n        </div>\n        <div className=\"flex aspect-square flex-col items-start justify-center gap-4 bg-gray-800 p-8\">\n          <NumericInput\n            disabled={disabled}\n            variant=\"dark\"\n            value={value}\n            onChange={(newValue) => setValue(newValue as number)}\n          />\n          <NumericInput\n            disabled={disabled}\n            variant=\"dark\"\n            value={value}\n            onChange={(newValue) => setValue(newValue as number)}\n          >\n            <NumericInput.Prefix>\n              <ColorTypeSolid />\n            </NumericInput.Prefix>\n            <NumericInput.Variable value={10} />\n            <NumericInput.Suffix type=\"action\">\n              <Select\n                disabled\n                placement=\"bottom-end\"\n              >\n                <Select.Trigger asChild>\n                  <NumericInput.MenuTrigger\n                    aria-label=\"Open menu\"\n                    type=\"menu\"\n                  />\n                </Select.Trigger>\n                <Select.Content>\n                  <Select.Item value=\"fixed\">\n                    <FixedHeight />\n                    Fixed height\n                  </Select.Item>\n                </Select.Content>\n              </Select>\n            </NumericInput.Suffix>\n          </NumericInput>\n        </div>\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-numericinput--tooltip",
      "name": "Tooltip",
      "exportName": "Tooltip",
      "description": "",
      "source": "import { NumericInput } from \"@choice-ui/numeric-input\"\n\nexport default function App() {\n\n  return (\n    <NumericInput\n      value={10}\n      tooltip={{\n        content: \"This is a tooltip\",\n      }}\n    />\n  )\n\n}"
    },
    {
      "id": "forms-numericinput--expression-calculation",
      "name": "Expression Calculation",
      "exportName": "ExpressionCalculation",
      "description": "Example demonstrating the mathematical expression evaluation feature.\nThis shows how NumericInput can:\n1. Accept and evaluate mathematical expressions (e.g., 1+1)\n2. Compare calculation results with current value\n3. Only trigger onChange when the result differs from current value\n\nFor example:\n- When value is 2, entering \"2\" won't trigger onChange\n- When value is 2, entering \"1+1\" won't trigger onChange (same result)\n- When value is 2, entering \"3\" or \"1+2\" will trigger onChange (different result)",
      "source": "import { NumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState(2)\n  const [changeCount, setChangeCount] = useState(0)\n  const [lastInputText, setLastInputText] = useState(\"\")\n\n  const handleChange = (newValue: NumericInputValue, detail: NumberResult) => {\n    console.log(\"onChange triggered with:\", newValue, detail)\n    setValue(newValue as number)\n    setChangeCount((prev) => prev + 1)\n    setLastInputText(detail.string)\n  }\n\n  return (\n    <div className=\"grid w-96 gap-4\">\n      <div className=\"flex flex-col gap-2\">\n        <h3 className=\"text-body-large-strong\">Mathematical Expression Test</h3>\n        <p className=\"text-secondary-foreground\">\n          Try entering different values and expressions to observe onChange event behavior:\n        </p>\n        <ul className=\"text-secondary-foreground list-disc pl-5\">\n          <li>\n            Current value is {value}, entering {value} won&apos;t trigger onChange\n          </li>\n          <li>\n            Current value is {value}, entering expressions that result in {value} (like{\" \"}\n            {value - 1}+1) won&apos;t trigger onChange\n          </li>\n          <li>Entering other values or expressions will trigger onChange</li>\n        </ul>\n      </div>\n\n      <div className=\"flex flex-col items-start gap-2\">\n        <NumericInput\n          value={value}\n          onChange={handleChange}\n        />\n\n        <div className=\"mt-2 rounded border bg-gray-50 p-3\">\n          <p className=\"text-body-small\">\n            <b>Current value:</b> {value}\n          </p>\n          <p className=\"text-body-small\">\n            <b>onChange trigger count:</b> {changeCount}\n          </p>\n          {lastInputText && (\n            <p className=\"text-body-small\">\n              <b>Last input text:</b> {lastInputText}\n            </p>\n          )}\n          <p className=\"text-secondary-foreground mt-2\">\n            Tip: Try entering &ldquo;1+1&rdquo;, &ldquo;2*1&rdquo;, &ldquo;4/2&rdquo; or other\n            expressions that result in the current value\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-numericinput--unit-expression-calculation",
      "name": "Unit Expression Calculation",
      "exportName": "UnitExpressionCalculation",
      "description": "Example demonstrating expression calculations with unit formatting.\nShows how:\n1. Expressions with units like \"{value}px\" display values with units\n2. Input expressions are evaluated before comparison\n3. Similar expressions resulting in the same value won't trigger onChange\n\nFor example:\n- When value is \"24px\", entering \"24\" or \"12+12\" won't trigger onChange\n- When value is \"24px\", entering \"25\" or \"12+13\" will trigger onChange",
      "source": "import { NumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState(24)\n  const [changeCount, setChangeCount] = useState(0)\n  const [lastInputText, setLastInputText] = useState(\"\")\n\n  const handleChange = (newValue: NumericInputValue, detail: NumberResult) => {\n    console.log(\"onChange triggered with:\", newValue, detail)\n    setValue(newValue as number)\n    setChangeCount((prev) => prev + 1)\n    setLastInputText(detail.string)\n  }\n\n  return (\n    <div className=\"grid w-96 gap-4\">\n      <div className=\"flex flex-col gap-2\">\n        <h3 className=\"text-body-large-strong\">Unit Expression Test</h3>\n        <p className=\"text-secondary-foreground\">\n          Try entering values and expressions with a pixel unit pattern:\n        </p>\n        <ul className=\"text-secondary-foreground list-disc pl-5\">\n          <li>\n            Current value is {value}px, entering {value} won&apos;t trigger onChange\n          </li>\n          <li>\n            Entering expressions like &ldquo;{value / 2}+{value / 2}&rdquo; won&apos;t trigger\n            onChange\n          </li>\n          <li>Entering different values or expressions will trigger onChange</li>\n        </ul>\n      </div>\n\n      <div className=\"flex flex-col items-start gap-2\">\n        <NumericInput\n          value={value}\n          onChange={handleChange}\n          expression=\"{value}px\"\n        />\n\n        <div className=\"mt-2 rounded border bg-gray-50 p-3\">\n          <p className=\"text-body-small\">\n            <b>Current value:</b> {value}px\n          </p>\n          <p className=\"text-body-small\">\n            <b>onChange trigger count:</b> {changeCount}\n          </p>\n          {lastInputText && (\n            <p className=\"text-body-small\">\n              <b>Last input text:</b> {lastInputText}\n            </p>\n          )}\n          <p className=\"text-secondary-foreground mt-2\">\n            Tip: Try entering &ldquo;12+12&rdquo;, &ldquo;24*1&rdquo;, or other expressions that\n            result in the current numerical value\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-numericinput--multi-value-expression-update",
      "name": "Multi Value Expression Update",
      "exportName": "MultiValueExpressionUpdate",
      "description": "这个示例专门用于测试和展示修复后的多值表达式更新行为。\n在之前的版本中，当只修改第二个值（如height）而不修改第一个值（如width）时，\n组件无法正确更新。这个修复确保了即使只修改一个属性，整个对象也能正确更新。",
      "source": "import { NumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState({\n    width: 10,\n    height: 20,\n  })\n  const [updateCount, setUpdateCount] = useState(0)\n  const [lastUpdatedProperty, setLastUpdatedProperty] = useState(\"\")\n\n  const handleChange = (newValue: NumericInputValue, detail: NumberResult) => {\n    setValue(newValue as { height: number; width: number })\n    setUpdateCount((prev) => prev + 1)\n\n    // 确定哪个属性被更新了\n    const newObj = newValue as { height: number; width: number }\n    if (newObj.width !== value.width && newObj.height !== value.height) {\n      setLastUpdatedProperty(\"width & height\")\n    } else if (newObj.width !== value.width) {\n      setLastUpdatedProperty(\"width\")\n    } else if (newObj.height !== value.height) {\n      setLastUpdatedProperty(\"height\")\n    }\n  }\n\n  return (\n    <div className=\"grid w-96 gap-4\">\n      <div className=\"flex flex-col gap-2\">\n        <h3 className=\"text-body-large-strong\">多值表达式更新测试</h3>\n        <p className=\"text-secondary-foreground\">这个示例测试修复后的多值表达式更新行为：</p>\n        <ul className=\"text-secondary-foreground list-disc pl-5\">\n          <li>修改首个值（width）</li>\n          <li>修改第二个值（height）</li>\n          <li>同时修改两个值</li>\n        </ul>\n        <p className=\"text-secondary-foreground\">修复后，所有三种情况都应该正确触发更新。</p>\n      </div>\n\n      <div className=\"flex flex-col items-start gap-2\">\n        <NumericInput\n          expression=\"{width}, {height}\"\n          value={value}\n          onChange={handleChange}\n        />\n\n        <div className=\"mt-2 rounded border bg-gray-50 p-3\">\n          <p className=\"text-body-small\">\n            <b>当前值:</b> {value.width}, {value.height}\n          </p>\n          <p className=\"text-body-small\">\n            <b>更新次数:</b> {updateCount}\n          </p>\n          {lastUpdatedProperty && (\n            <p className=\"text-body-small\">\n              <b>最近更新的属性:</b> {lastUpdatedProperty}\n            </p>\n          )}\n          <p className=\"text-secondary-foreground mt-2\">\n            提示: 输入逗号分隔的两个值（例如 &quot;15, 20&quot;）来更新两个属性，\n            或者保留逗号前的值不变只修改后面的值（例如 &quot;, 25&quot;）来只更新height。\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n\n}"
    },
    {
      "id": "forms-numericinput--step-and-shift-step",
      "name": "Step And Shift Step",
      "exportName": "StepAndShiftStep",
      "description": "Step and Shift Step: Demonstrates the step functionality with modifier key support\n\nThis example shows how NumericInput responds to different step values based on modifier keys:\n- Default: 1 step\n- Shift: 10 steps (larger increments)\n- Meta/Ctrl: 0.1 steps (finer control)",
      "source": "import { NumericInput } from \"@choice-ui/numeric-input\"\nimport { useState } from \"react\"\n\nexport default function App() {\n\n  const [value, setValue] = useState(100)\n\n  return (\n    <div className=\"grid w-96 gap-4\">\n      <div className=\"flex flex-col gap-2\">\n        <h3 className=\"text-body-large-strong\">Step and Shift Step</h3>\n        <p className=\"text-secondary-foreground\">\n          Focus the input and use arrow keys with modifier keys to see different step values:\n        </p>\n        <ul className=\"text-secondary-foreground list-disc pl-5\">\n          <li>↑/↓: Default step (1)</li>\n          <li>Shift + ↑/↓: Large step (10)</li>\n        </ul>\n      </div>\n\n      <div className=\"flex flex-col items-start gap-2\">\n        <NumericInput\n          value={value}\n          onChange={(newValue) => setValue(newValue as number)}\n          step={1}\n          min={0}\n          max={1000}\n        >\n          <NumericInput.Prefix>\n            <HugWidth />\n          </NumericInput.Prefix>\n        </NumericInput>\n\n        <div className=\"mt-2 rounded border bg-gray-50 p-3\">\n          <p className=\"text-body-small\">\n            <b>Current value:</b> {value}\n          </p>\n          <p className=\"text-secondary-foreground mt-2\">\n            Tip: Try holding Shift while using arrow keys to see different step sizes\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n\n}"
    }
  ],
  "tags": [
    "upgrade"
  ]
}